window.onerror=function(){var a=document.getElementsByTagName("html")[0];a&&a.classList&&a.classList.add("video-ready")};
YUI().use("node","event","cookie","squarespace-util",function(a){a.on("domready",function(){function h(){a.all("img[data-src]").each(function(a){ImageLoader.load(a)})}a.one(window).on("resize",h,this);a.Global&&a.Global.on("tweak:change",h,this);var b=a.one("window"),c=a.one("html"),i=a.one("body"),n=a.one(".site-menu__open"),o=a.one(".site-menu__close"),p=a.one(".site-menu__underlay"),j=function(){c.removeClass("show-menu");setTimeout(function(){c.removeClass("prepare-menu")},366)};n.on("click",
function(){c.addClass("prepare-menu");setTimeout(function(){c.addClass("show-menu")},5)});o.on("click",j);p.on("click",j);if(i.hasClass("homepage")||i.hasClass("collection-type-home2")){var k=a.one(".intro"),q=a.all(".intro__video"),l=a.one(".header"),f=k.height(),g=l.height(),e=function(){var a=document.body.clientWidth,b=window.innerHeight;f=b;g=l.height();var e={width:a,height:b,overflow:"hidden"},d={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"};a>16*b/9?(d.width=
a,d.height=0.5625*a):(d.height=b,d.width=b*(16/9));k.setStyles(e);q.setStyles(d);c.addClass("video-ready");m()},m=function(){window.pageYOffset>f-g?c.addClass("header-lock"):c.removeClass("header-lock")};b.on("resize",e,this);b.on("scroll",m,this);e();setTimeout(function(){e()},500);a.one(".intro__scroll").on("click",function(){(new a.Anim({duration:0.666,node:"win",easing:"easeBoth",to:{scroll:[0,f-g]}})).run()})}b=function(){a.Cookie.remove("lasttrip",{path:"/"})};if("undefined"!=typeof PAGE_TYPE)if("trip"==
PAGE_TYPE){if(a.Cookie.set("lasttrip",window.location.href,{path:"/"}),"undefined"!=typeof DESTINATION_URL&&"undefined"!=typeof DESTINATION_NAME&&(b=a.one(".destination-button")))b.set("href",DESTINATION_URL),b.set("text","More "+DESTINATION_NAME+" trips"),c.addClass("has-destination-button"),setTimeout(function(){c.addClass("show-destination-button")},1)}else"extra"==PAGE_TYPE&&a.Cookie.get("lasttrip")?(c.addClass("has-back-button"),setTimeout(function(){c.addClass("show-back-button")},1)):b();else b();
if(b=a.one(".back-button"))b.on("click",function(){var b=a.Cookie.get("lasttrip");b?window.location.href=b:console.log("oops")});if(b=a.one(".back-to-top a"))b.on("click",function(){(new a.Anim({duration:0.666,node:"win",easing:"easeBoth",to:{scroll:[0,0]}})).run()})})});