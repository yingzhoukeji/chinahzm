webpackJsonp([26],{0:function(t,v,b){b(2360);b(1571);b(365);b(223);b(1061);b(191);b(1148)},191:function(t,v){YUI.add("squarespace-spinner",function(b){b.namespace("Squarespace").Spinner=b.Base.create("Spinner",b.Widget,[],{renderUI:function(){this.get("boundingBox").addClass(this.get("color"));0<b.UA.ie&&10>b.UA.ie&&(this.get("contentBox").append(b.Node.create('<img class="sqs-ie-spinner" src="crappy-ie-spinner.gif"/>')),this.get("boundingBox").addClass("degraded"));
var k=this.get("size");b.Lang.isNumber(k)||this.get("boundingBox").addClass(k)},spin:function(){this.get("boundingBox").show()},stop:function(){this.get("boundingBox").hide()},addClass:function(b){this.get("boundingBox").addClass(b)}},{CSS_PREFIX:"sqs-spin",NS:"spinner",ATTRS:{size:{value:"default",setter:function(k){b.Lang.isNumber(k)&&(this.set("width",k),this.set("height",k));return k}},color:{value:"light"}}})},"1.0",{requires:["base-build","widget"]})},223:function(t,v){YUI.add("model",function(b,
k){function c(){c.superclass.constructor.apply(this,arguments)}var m=YUI.namespace("Env.Model"),n=b.Lang,f=b.Array,a=b.Object,h="error";b.Model=b.extend(c,b.Base,{idAttribute:"id",_allowAdHocAttrs:!0,_isYUIModel:!0,initializer:function(a){this.changed={};this.lastChange={};this.lists=[]},destroy:function(a,h){var b=this;"function"===typeof a&&(h=a,a=null);b.onceAfter("destroy",function(){function u(u){u||f.each(b.lists.concat(),function(h){h.remove(b,a)});h&&h.apply(null,arguments)}a&&(a.remove||
a["delete"])?b.sync("delete",a,u):u()});return c.superclass.destroy.call(b)},generateClientId:function(){m.lastId||(m.lastId=0);return this.constructor.NAME+"_"+(m.lastId+=1)},getAsHTML:function(a){a=this.get(a);return b.Escape.html(n.isValue(a)?String(a):"")},getAsURL:function(a){a=this.get(a);return encodeURIComponent(n.isValue(a)?String(a):"")},isModified:function(){return this.isNew()||!a.isEmpty(this.changed)},isNew:function(){return!n.isValue(this.get("id"))},load:function(a,b){var q=this;"function"===
typeof a&&(b=a,a={});a||(a={});q.sync("read",a,function(f,c){var k={options:a,response:c},m;f?(k.error=f,k.src="load",q.fire(h,k)):(q._loadEvent||(q._loadEvent=q.publish("load",{preventable:!1})),m=k.parsed=q._parse(c),q.setAttrs(m,a),q.changed={},q.fire("load",k));b&&b.apply(null,arguments)});return q},parse:function(a){if("string"===typeof a)try{return b.JSON.parse(a)}catch(z){return this.fire(h,{error:z,response:a,src:"parse"}),null}return a},save:function(a,b){var q=this;"function"===typeof a&&
(b=a,a={});a||(a={});q._validate(q.toJSON(),function(f){f?b&&b.call(null,f):q.sync(q.isNew()?"create":"update",a,function(f,c){var u={options:a,response:c},k;f?(u.error=f,u.src="save",q.fire(h,u)):(q._saveEvent||(q._saveEvent=q.publish("save",{preventable:!1})),c&&(k=u.parsed=q._parse(c),q.setAttrs(k,a)),q.changed={},q.fire("save",u));b&&b.apply(null,arguments)})});return q},set:function(a,b,h){var f={};f[a]=b;return this.setAttrs(f,h)},setAttrs:function(p,h){var f=this.idAttribute,c,k,m,n;h=b.merge(h);
n=h._transaction={};"id"!==f&&(p=b.merge(p),a.owns(p,f)?p.id=p[f]:a.owns(p,"id")&&(p[f]=p.id));for(k in p)a.owns(p,k)&&this._setAttr(k,p[k],h);if(!a.isEmpty(n)){f=this.changed;m=this.lastChange={};for(k in n)a.owns(n,k)&&(c=n[k],f[k]=c.newVal,m[k]={newVal:c.newVal,prevVal:c.prevVal,src:c.src||null});h.silent||(this._changeEvent||(this._changeEvent=this.publish("change",{preventable:!1})),h.changed=m,this.fire("change",h))}return this},sync:function(){var a=f(arguments,0,!0).pop();"function"===typeof a&&
a()},toJSON:function(){var a=this.getAttrs();delete a.clientId;delete a.destroyed;delete a.initialized;"id"!==this.idAttribute&&delete a.id;return a},undo:function(h,b){var c=this.lastChange,k=this.idAttribute,m={},n;h||(h=a.keys(c));f.each(h,function(h){a.owns(c,h)&&(h=h===k?"id":h,n=!0,m[h]=c[h].prevVal)});return n?this.setAttrs(m,b):this},validate:function(a,h){h&&h()},addAttr:function(a,h,b){var f=this.idAttribute,k;f&&a===f&&(f=this._isLazyAttr("id")||this._getAttrCfg("id"),k=h.value===h.defaultValue?
null:h.value,n.isValue(k)||(k=f.value===f.defaultValue?null:f.value,n.isValue(k)||(k=n.isValue(h.defaultValue)?h.defaultValue:f.defaultValue)),h.value=k,f.value!==k&&(f.value=k,this._isLazyAttr("id")?this._state.add("id","lazy",f):this._state.add("id","value",k)));return c.superclass.addAttr.apply(this,arguments)},_parse:function(a){return this.parse(a)},_validate:function(a,b){function f(k){n.isValue(k)?(c.fire(h,{attributes:a,error:k,src:"validate"}),b(k)):b()}var c=this;1===c.validate.length?f(c.validate(a,
f)):c.validate(a,f)},_setAttrVal:function(a,h,b,f,k,m){var n=c.superclass._setAttrVal.apply(this,arguments),t=k&&k._transaction,v=m&&m.initializing;n&&(t&&!v)&&(t[a]={newVal:this.get(a),prevVal:b,src:k.src||null});return n}},{NAME:"model",ATTRS:{clientId:{valueFn:"generateClientId",readOnly:!0},id:{value:null}}})},"3.17.2",{requires:["base-build","escape","json-parse"]})},365:function(t,v){YUI.add("model-list",function(b,k){function c(){c.superclass.constructor.apply(this,arguments)}var m=b.Attribute.prototype,
n=b.Lang,f=b.Array;b.ModelList=b.extend(c,b.Base,{model:b.Model,_isYUIModelList:!0,initializer:function(a){a||(a={});var h=this.model=a.model||this.model;"string"===typeof h&&((this.model=b.Object.getValue(b,h.split(".")))||b.error("ModelList: Model class not found: "+h));this.publish("add",{defaultFn:this._defAddFn});this.publish("reset",{defaultFn:this._defResetFn});this.publish("remove",{defaultFn:this._defRemoveFn});this.after("*:idChange",this._afterIdChange);this._clear();a.items&&this.add(a.items,
{silent:!0})},destructor:function(){this._clear()},add:function(a,h){var p=a._isYUIModelList;return p||n.isArray(a)?f.map(p?a.toArray():a,function(a,f){var p=h||{};"index"in p&&(p=b.merge(p,{index:p.index+f}));return this._add(a,p)},this):this._add(a,h)},create:function(a,h,f){var c=this;"function"===typeof h&&(f=h,h={});h||(h={});a._isYUIModel||(a=new this.model(a));c.fire("create",b.merge(h,{model:a}));return a.save(h,function(b){b||c.add(a,h);f&&f.apply(null,arguments)})},each:function(a,h){var b=
this._items.concat(),f,c,k;f=0;for(k=b.length;f<k;f++)c=b[f],a.call(h||c,c,f,this);return this},filter:function(a,h){var b=[],f=this._items,c,k,m;"function"===typeof a&&(h=a,a={});c=0;for(m=f.length;c<m;++c)k=f[c],h.call(this,k,c,this)&&b.push(k);return a.asList?(f=new this.constructor({model:this.model}),b.length&&f.add(b,{silent:!0}),f):b},get:function(a){return this.attrAdded(a)?m.get.apply(this,arguments):this.invoke("get",a)},getAsHTML:function(a){return this.attrAdded(a)?b.Escape.html(m.get.apply(this,
arguments)):this.invoke("getAsHTML",a)},getAsURL:function(a){return this.attrAdded(a)?encodeURIComponent(m.get.apply(this,arguments)):this.invoke("getAsURL",a)},getByClientId:function(a){return this._clientIdMap[a]||null},getById:function(a){return this._idMap[a]||null},invoke:function(a){var h=[this._items,a].concat(f(arguments,1,!0));return f.invoke.apply(f,h)},load:function(a,h){var b=this;"function"===typeof a&&(h=a,a={});a||(a={});this.sync("read",a,function(f,c){var k={options:a,response:c},
m;f?(k.error=f,k.src="load",b.fire("error",k)):(b._loadEvent||(b._loadEvent=b.publish("load",{preventable:!1})),m=k.parsed=b._parse(c),b.reset(m,a),b.fire("load",k));h&&h.apply(null,arguments)});return this},map:function(a,b){return f.map(this._items,a,b)},parse:function(a){if("string"===typeof a)try{return b.JSON.parse(a)||[]}catch(h){return this.fire("error",{error:h,response:a,src:"parse"}),null}return a||[]},remove:function(a,b){var c=a._isYUIModelList;return c||n.isArray(a)?(a=f.map(c?a.toArray():
a,function(a){return n.isNumber(a)?this.item(a):a},this),f.map(a,function(a){return this._remove(a,b)},this)):this._remove(a,b)},reset:function(a,h){a||(a=[]);h||(h={});var c=b.merge({src:"reset"},h);a=a._isYUIModelList?a.toArray():f.map(a,function(a){return a._isYUIModel?a:new this.model(a)},this);c.models=a;h.silent?this._defResetFn(c):(this.comparator&&a.sort(b.bind(this._sort,this)),this.fire("reset",c));return this},some:function(a,b){var f=this._items.concat(),c,k,m;c=0;for(m=f.length;c<m;c++)if(k=
f[c],a.call(b||k,k,c,this))return!0;return!1},sort:function(a){if(!this.comparator)return this;var h=this._items.concat();a||(a={});h.sort(b.rbind(this._sort,this,a));h=b.merge(a,{models:h,src:"sort"});a.silent?this._defResetFn(h):this.fire("reset",h);return this},sync:function(){var a=f(arguments,0,!0).pop();"function"===typeof a&&a()},toArray:function(){return this._items.concat()},toJSON:function(){return this.map(function(a){return a.toJSON()})},_add:function(a,h){var f;h||(h={});a._isYUIModel||
(a=new this.model(a));f=a.get("id");if(this._clientIdMap[a.get("clientId")]||n.isValue(f)&&this._idMap[f])this.fire("error",{error:"Model is already in the list.",model:a,src:"add"});else return f=b.merge(h,{index:"index"in h?h.index:this._findIndex(a),model:a}),h.silent?this._defAddFn(f):this.fire("add",f),a},_attachList:function(a){a.lists.push(this);a.addTarget(this)},_clear:function(){f.each(this._items,this._detachList,this);this._clientIdMap={};this._idMap={};this._items=[]},_compare:function(a,
b){return a<b?-1:a>b?1:0},_detachList:function(a){var b=f.indexOf(a.lists,this);-1<b&&(a.lists.splice(b,1),a.removeTarget(this))},_findIndex:function(a){var b=this._items,f=b.length,c=0,k,m;if(!this.comparator||!f)return f;for(m=this.comparator(a);c<f;)k=c+f>>1,a=b[k],0>this._compare(this.comparator(a),m)?c=k+1:f=k;return c},_parse:function(a){return this.parse(a)},_remove:function(a,f){var c;f||(f={});n.isNumber(a)?(c=a,a=this.item(c)):c=this.indexOf(a);if(-1===c||!a)this.fire("error",{error:"Model is not in the list.",
index:c,model:a,src:"remove"});else return c=b.merge(f,{index:c,model:a}),f.silent?this._defRemoveFn(c):this.fire("remove",c),a},_sort:function(a,b,f){a=this._compare(this.comparator(a),this.comparator(b));return 0===a?a:f&&f.descending?-a:a},_afterIdChange:function(a){var b=a.newVal,f=a.prevVal;a=a.target;if(n.isValue(f))if(this._idMap[f]===a)delete this._idMap[f];else return;else if(-1===this.indexOf(a))return;n.isValue(b)&&(this._idMap[b]=a)},_defAddFn:function(a){var b=a.model,f=b.get("id");this._clientIdMap[b.get("clientId")]=
b;n.isValue(f)&&(this._idMap[f]=b);this._attachList(b);this._items.splice(a.index,0,b)},_defRemoveFn:function(a){var b=a.model,f=b.get("id");this._detachList(b);delete this._clientIdMap[b.get("clientId")];n.isValue(f)&&delete this._idMap[f];this._items.splice(a.index,1)},_defResetFn:function(a){"sort"===a.src?this._items=a.models.concat():(this._clear(),a.models.length&&this.add(a.models,{silent:!0}))}},{NAME:"modelList"});b.augment(c,b.ArrayList)},"3.17.2",{requires:"array-extras array-invoke arraylist base-build escape json-parse model".split(" ")})},
1061:function(t,v){YUI.add("squarespace-hb-compare",function(b){b.Handlebars.registerHelper("if_eq",function(b,c){return b==c.hash.compare?c.fn(this):c.inverse(this)});b.Handlebars.registerHelper("unless_eq",function(b,c){return b==c.hash.compare?c.inverse(this):c.fn(this)});b.Handlebars.registerHelper("if_gt",function(b,c){return b>c.hash.compare?c.fn(this):c.inverse(this)});b.Handlebars.registerHelper("unless_gt",function(b,c){return b>c.hash.compare?c.inverse(this):c.fn(this)});b.Handlebars.registerHelper("if_lt",
function(b,c){return b<c.hash.compare?c.fn(this):c.inverse(this)});b.Handlebars.registerHelper("unless_lt",function(b,c){return b<c.hash.compare?c.inverse(this):c.fn(this)});b.Handlebars.registerHelper("if_gteq",function(b,c){return b>=c.hash.compare?c.fn(this):c.inverse(this)});b.Handlebars.registerHelper("unless_gteq",function(b,c){return b>=c.hash.compare?c.inverse(this):c.fn(this)});b.Handlebars.registerHelper("if_lteq",function(b,c){return b<=c.hash.compare?c.fn(this):c.inverse(this)});b.Handlebars.registerHelper("unless_lteq",
function(b,c){return b<=c.hash.compare?c.inverse(this):c.fn(this)})},"1.0",{requires:["handlebars-base"]})},1148:function(t,v){YUI.add("squarespace-tourdates-bandsintown-list-template",function(b){var k=b.Handlebars;(function(){var b=k.template;(k.templates=k.templates||{})["tourdates-bandsintown-list.html"]=b(function(b,c,f,a,h){function k(a,b){var c;return(c=f["if"].call(a,a.errors,{hash:{},inverse:l.program(5,q,b),fn:l.program(3,t,b),data:b}))||0===c?c:""}function t(a,b){return""}function q(a,
b){var c="",e,g;if((g=f["if"].call(a,(e=b,null==e||!1===e?e:e.index),{hash:{},inverse:l.noop,fn:l.program(6,u,b),data:b}))||0===g)c+=g;c+='\n  {\n      "@context": "http://schema.org",\n      "@type": "MusicEvent",\n      "name": "';(g=f.title)?g=g.call(a,{hash:{},data:b}):(g=a.title,g=typeof g===r?g.apply(a):g);c+=s(g)+'",\n      "image": "'+s((e=(e=(e=a.artists,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.image_url),typeof e===r?e.apply(a):e))+'",\n      "startDate": "';(g=f.datetime)?g=g.call(a,
{hash:{},data:b}):(g=a.datetime,g=typeof g===r?g.apply(a):g);c+=s(g)+'",\n      "url": "';(g=f.ticket_url)?g=g.call(a,{hash:{},data:b}):(g=a.ticket_url,g=typeof g===r?g.apply(a):g);c+=s(g)+'",\n      "location": {\n          "@type": "Place",\n          "name": "'+s((e=(e=a.venue,null==e||!1===e?e:e.name),typeof e===r?e.apply(a):e))+'",\n          "address": {\n              "@type": "PostalAddress",\n              "addressCountry": "'+s((e=(e=a.venue,null==e||!1===e?e:e.country),typeof e===r?e.apply(a):
e))+'",\n              "addressLocality": "'+s((e=(e=a.venue,null==e||!1===e?e:e.city),typeof e===r?e.apply(a):e))+'",\n              "addressRegion": ""\n          },\n          "geo": {\n              "@type": "GeoCoordinates",\n              "latitude": '+s((e=(e=a.venue,null==e||!1===e?e:e.latitude),typeof e===r?e.apply(a):e))+',\n              "longitude": '+s((e=(e=a.venue,null==e||!1===e?e:e.longitude),typeof e===r?e.apply(a):e))+'\n          }\n      },\n      "performer": [\n          {\n              "@type": "MusicGroup",\n              "name": "'+
s((e=(e=(e=a.artists,null==e||!1===e?e:e[0]),null==e||!1===e?e:e.name),typeof e===r?e.apply(a):e))+'",\n              "sameAs": "http://www.bandsintown.com"\n          }\n      ],\n      "offers": [\n          {\n              "@type": "Offer",\n              "url": "';(g=f.ticket_url)?g=g.call(a,{hash:{},data:b}):(g=a.ticket_url,g=typeof g===r?g.apply(a):g);c+=s(g)+'",\n              "availability": "';g={hash:{},inverse:l.noop,fn:l.program(8,v,b),data:b};if((g=(e=f["equals-string"]||a["equals-string"],
e?e.call(a,a.ticket_status,"available",g):x.call(a,"equals-string",a.ticket_status,"available",g)))||0===g)c+=g;g={hash:{},inverse:l.noop,fn:l.program(10,A,b),data:b};if((g=(e=f["equals-string"]||a["equals-string"],e?e.call(a,a.ticket_status,"unavailable",g):x.call(a,"equals-string",a.ticket_status,"unavailable",g)))||0===g)c+=g;return c+'",\n              "category": "primary"\n          }\n      ]\n  }\n  '}function u(a,b){return","}function v(a,b){return"InStock"}function A(a,b){return"SoldOUT"}
function B(a,b){var c,e;c="\n\n      ";if((e=f["if"].call(a,a.errors,{hash:{},inverse:l.program(17,E,b),fn:l.program(14,C,b),data:b}))||0===e)c+=e;return c+"\n\n    "}function C(a,b){var c,e;c="\n\n        ";if((e=f.each.call(a,a.errors,{hash:{},inverse:l.noop,fn:l.program(15,D,b),data:b}))||0===e)c+=e;return c+"\n\n      "}function D(a,b){var c;return c=""+('\n        <li class="tour-item-error">\n          <div class="state-message">'+s(typeof a===r?a.apply(a):a)+"</div>\n        </li>\n        ")}
function E(a,b){var c,e,g;c='\n\n        <li class="tour-item">\n\n          <div class="tour-timeframe" data-tour-datetime="';(e=f.datetime)?e=e.call(a,{hash:{},data:b}):(e=a.datetime,e=typeof e===r?e.apply(a):e);c+=s(e)+'">\n            <div class="tour-date">';g={hash:{format:"date"},data:b};c+=s((e=f["tourdates-bit-datetime"]||a["tourdates-bit-datetime"],e?e.call(a,a.datetime,g):x.call(a,"tourdates-bit-datetime",a.datetime,g)))+'</div>\n            <div class="tour-weekday">';g={hash:{format:"weekday"},
data:b};c+=s((e=f["tourdates-bit-datetime"]||a["tourdates-bit-datetime"],e?e.call(a,a.datetime,g):x.call(a,"tourdates-bit-datetime",a.datetime,g)))+'</div>\n          </div>\n\n          <div class="tour-venue">\n            <a href="';(g=f.facebook_rsvp_url)?g=g.call(a,{hash:{},data:b}):(g=a.facebook_rsvp_url,g=typeof g===r?g.apply(a):g);c+=s(g)+'" class="tour-venue-link" target="_blank">\n            \n              <div class="tour-venue-name">'+s((e=(e=a.venue,null==e||!1===e?e:e.name),typeof e===
r?e.apply(a):e))+"</div>\n\n              ";g={hash:{compare:1},inverse:l.noop,fn:l.program(18,F,b),data:b};if((g=(e=f.if_gt||a.if_gt,e?e.call(a,(e=a.artists,null==e||!1===e?e:e.length),g):x.call(a,"if_gt",(e=a.artists,null==e||!1===e?e:e.length),g)))||0===g)c+=g;c+='\n\n            </a>\n          </div>\n\n          <div class="tour-location"><a href="';(g=f.facebook_rsvp_url)?g=g.call(a,{hash:{},data:b}):(g=a.facebook_rsvp_url,g=typeof g===r?g.apply(a):g);c+=s(g)+'" class="tour-location-link" target="_blank">';
(g=f.formatted_location)?g=g.call(a,{hash:{},data:b}):(g=a.formatted_location,g=typeof g===r?g.apply(a):g);c+=s(g)+'</a></div>\n\n          <div class="tour-actions">\n            <a href="';if((g=f["if"].call(a,a.ticket_url,{hash:{},inverse:l.program(24,G,b),fn:l.program(22,H,b),data:b}))||0===g)c+=g;c+='" class="tour-button tour-button--ticket ';g={hash:{},inverse:l.noop,fn:l.program(26,I,b),data:b};if((g=(e=f["equals-string"]||a["equals-string"],e?e.call(a,a.ticket_type,"Sold Out",g):x.call(a,
"equals-string",a.ticket_type,"Sold Out",g)))||0===g)c+=g;c+=" ";if((g=f["if"].call(a,a.ticket_url,{hash:{},inverse:l.program(28,J,b),fn:l.program(3,t,b),data:b}))||0===g)c+=g;c+=' sqs-editable-button " target="';if((g=f["if"].call(a,a.ticket_url,{hash:{},inverse:l.program(32,K,b),fn:l.program(30,L,b),data:b}))||0===g)c+=g;c+='">';(g=f.ticket_type)?g=g.call(a,{hash:{},data:b}):(g=a.ticket_type,g=typeof g===r?g.apply(a):g);c+=s(g)+'</a>\n            <a href="';(g=f.facebook_rsvp_url)?g=g.call(a,{hash:{},
data:b}):(g=a.facebook_rsvp_url,g=typeof g===r?g.apply(a):g);return c+=s(g)+'" class="tour-button tour-button--rsvp sqs-editable-button" target="_blank"></a>\n          </div>\n\n        </li>\n      \n      '}function F(a,b){var c,e;c='\n              <div class="tour-lineup">\n                ';if((e=f.each.call(a,a.artists,{hash:{},inverse:l.noop,fn:l.program(19,M,b),data:b}))||0===e)c+=e;return c+"\n              </div>\n              "}function M(a,b){var c,e,g;c="\n                  ";g={hash:{compare:0},
inverse:l.noop,fn:l.program(20,N,b),data:b};if((g=(e=f.if_gt||a.if_gt,e?e.call(a,(e=b,null==e||!1===e?e:e.index),g):x.call(a,"if_gt",(e=b,null==e||!1===e?e:e.index),g)))||0===g)c+=g;return c+"\n                "}function N(a,b){var c,e;c='\n                  <div class="tour-lineup-item">';(e=f.name)?e=e.call(a,{hash:{},data:b}):(e=a.name,e=typeof e===r?e.apply(a):e);return c+=s(e)+"</div>\n                  "}function H(a,b){var c;(c=f.ticket_url)?c=c.call(a,{hash:{},data:b}):(c=a.ticket_url,c=typeof c===
r?c.apply(a):c);return s(c)}function G(a,b){return"#"}function I(a,b){return"tour-button--soldout"}function J(a,b){return"tour-button--disabled"}function L(a,b){return"_blank"}function K(a,b){return"_self"}this.compilerInfo=[4,">= 1.0.0"];f=this.merge(f,b.helpers);h=h||{};var w,l=this,r="function",s=this.escapeExpression,x=f.helperMissing,y=f.blockHelperMissing;b='<script type="application/ld+json">\n';if((a=f["if"].call(c,(w=c.data,null==w||!1===w?w:w.length),{hash:{},inverse:l.noop,fn:l.program(1,
function(a,b){var c,e,g;c="\n[\n  ";g={hash:{},inverse:l.noop,fn:l.program(2,k,b),data:b};(e=f.data)?e=e.call(a,g):(e=a.data,e=typeof e===r?e.apply(a):e);f.data||(e=y.call(a,e,g));if(e||0===e)c+=e;return c+"\n]\n"},h),data:h}))||0===a)b+=a;b+='\n\x3c/script>\n\n<ul class="tour-list">\n\n  ';if((a=f["if"].call(c,(w=c.data,null==w||!1===w?w:w.length),{hash:{},inverse:l.program(34,function(a,b){return'\n\n      <li class="tour-item-no-results"></li>\n\n  '},h),fn:l.program(12,function(a,b){var c,e,g;
c="\n\n    ";g={hash:{},inverse:l.noop,fn:l.program(13,B,b),data:b};(e=f.data)?e=e.call(a,g):(e=a.data,e=typeof e===r?e.apply(a):e);f.data||(e=y.call(a,e,g));if(e||0===e)c+=e;return c+"\n\n  "},h),data:h}))||0===a)b+=a;return b+"\n\n</ul>"})})();b.Handlebars.registerPartial("tourdates-bandsintown-list.html".replace("/","."),k.templates["tourdates-bandsintown-list.html"])},"1.0",{requires:["handlebars-base"]})},1571:function(t,v){YUI.add("squarespace-widgets-tourdates-bandsintown",function(b){var k=
b.Base.create("bandsInTownTourDatesListModel",b.ModelList,[],{sync:function(c,k,f){if("read"===c){c="squarespace-"+b.Object.getValue(Static,["SQUARESPACE_CONTEXT","website","identifier"]);k=encodeURIComponent(this.get("artistId"));var a=b.DataType.Date.format(new Date(this.get("startDate")),{format:"%Y-%m-%d"}),h=b.DataType.Date.format(new Date(this.get("endDate")),{format:"%Y-%m-%d"}),p;"upcoming"===this.get("timeframe")?p="upcoming":"dateRange"===this.get("timeframe")&&(p=a+","+h);p="//api.bandsintown.com/artists/"+
k+"/events.json?api_version=2.0&app_id="+c+"&date="+p+"&callback={callback}";f=b.Lang.isFunction(f)?f:function(){};b.jsonp(p,{on:{success:function(a){a.errors&&(a=[a]);f(null,a)},failure:function(){f("Request failed!");console.log("Request failed!")},timeout:function(){f("Request timed out.");console.log("Request timed out.")}},timeout:1E4})}else console.warn("Unsupported sync action: "+c)}},{ATTRS:{artistId:{value:null},timeframe:{value:null},startDate:{value:null},endDate:{value:null}}});b.namespace("Squarespace.Widgets");
var c=b.Squarespace.Widgets.BandsInTownTourDatesList=b.Base.create("bandsInTownTourDatesList",b.Squarespace.SSWidget,[],{initializer:function(){var c=this.get("boundingBox"),k=new b.Squarespace.Spinner({size:30,color:"dark",render:c});this._registerEvent(b.on("domready",function(){this.get("modelList").load(b.bind(function(){this.set("loaded",!0);c.addClass("loaded");k.destroy()},this))},this))},bindUI:function(){c.superclass.bindUI.call(this);this.after("loadedChange",this.renderTemplateAgain,this);
this._registerEvent(b.on("windowresize",function(){this.adjustLayout()},b.config.win,this))},adjustLayout:function(){var b=this.get("boundingBox");b.toggleClass("tourblock-has-small-container",450>b.get("offsetWidth"))},renderTemplateAgain:function(){this.adjustLayout();this.get("contentBox").empty().append(this.renderTemplate());this.appendStructuredData()},appendStructuredData:function(){var c=document.createElement("script");c.type="application/ld+json";c.text=this.get("contentBox").one("script").get("innerHTML");
b.one("head").append(c)},_getHBTemplateContext:function(){return{data:this.get("modelList").toJSON()}}},{CSS_PREFIX:"sqs-tourdates-bandsintown-list",HANDLEBARS_TEMPLATE:"tourdates-bandsintown-list.html",ATTRS:{artistId:{value:null},timeframe:{value:null},startDate:{value:null},endDate:{value:null},modelList:{valueFn:function(){return new k(this.getAttrs(["artistId","timeframe","startDate","endDate"]))}},loaded:{value:!1}}});b.Handlebars.registerHelper("tourdates-bit-datetime",function(b,c){var f=
b.match(/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*)?)([zZ]|([+\-])(\d\d):?(\d\d))?$/)[1];d=new Date(f+"Z");var f="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),a="Sun Mon Tue Wed Thu Fri Sat".split(" ");if("date"===c.hash.format)return f[d.getUTCMonth()]+" "+d.getUTCDate();if("weekday"===c.hash.format)return a[d.getUTCDay()]});b.Handlebars.registerHelper("equals-string",function(c,k,f){return b.Handlebars.helpers["if"].call(this,function(){return c==k.toString()},f)})},"1.0",{requires:"jsonp model-list squarespace-hb-compare squarespace-spinner squarespace-ss-widget squarespace-tourdates-bandsintown-list-template".split(" ")})},
2360:function(t,v){YUI.add("squarespace-tourdates",function(b){b.config.win.Squarespace.onInitialize(b,function(){b.all(".sqs-block-tourdates[data-block-json]").each(function(k){var c=JSON.parse(k.getAttribute("data-block-json"));(new b.Squarespace.Widgets.BandsInTownTourDatesList({artistId:c.artistId,timeframe:c.timeframe,startDate:c.startDate,endDate:c.endDate})).render(k)})})},"1.0",{requires:["squarespace-widgets-tourdates-bandsintown"]})}});
