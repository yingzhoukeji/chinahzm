webpackJsonp([36],{0:function(k,l,e){e(2341)},2341:function(k,l){YUI.add("squarespace-share-buttons",function(e){e.config.win.Squarespace.onInitialize(e,function(){function h(a){this.container=a.container;this.like=a.like;this.ID=a.id;this.PATH=a.path;this.SHARE_LINK=Static.SQUARESPACE_CONTEXT.website.baseUrl+"/"+this.PATH}function g(a,b){try{var d=a[f.URL_KEYS[b]],c=e.config.win.document.createElement("a");c.href=d;var g=c.pathname.replace(/^\/|\/$/g,"");c.remove();var h=a[f.COUNT_KEYS[b]]||0,k=
e.config.win.document.querySelectorAll('.Share[data-item-path="'+g+'"] .Share-buttons-item[data-service="'+b+'"]');Array.prototype.forEach.call(k,function(a){a.querySelector(".Share-buttons-item-count").innerHTML=h})}catch(l){console.error(l)}}h.prototype={init:function(){f.SERVICE_NAMES.forEach(function(a){this.getCount(a)},this);this.like&&(this.syncLikes(),this.isInLocalStorage(this.like)&&this.like.classList.add("is-active"));this.container.addEventListener("click",this.shareButtonClickHandler.bind(this))},
getCount:function(a){var b=document.createElement("script");b.src=[f.API_BASE_URLS[a],this.SHARE_LINK,"&callback=",f.CALLBACK_NAMESPACE,".",a].join("");document.body.appendChild(b);document.body.removeChild(b)},shareButtonClickHandler:function(a){a.preventDefault();for(a=a.target;a.parentElement&&a!==this.container&&!a.classList.contains("Share-buttons-item");)a=a.parentElement;if(a.getAttribute("data-service"))if(this.like&&a===this.like)this.onLike();else this.onShare(a)},syncLikes:function(a){var b=
this.like.querySelector(".Share-buttons-item-label");a||(a=parseInt(this.like.getAttribute("data-like-count"),10));b.innerHTML=1===a?a+" Like":a+" Likes";this.like.setAttribute("data-like-count",a)},onLike:function(){if(!this.like.classList.contains("is-active")){var a=[window.location.origin,"/api/content-items/",this.ID,"/sentiment/like","?crumb="+this.readCookie("crumb")].join(""),b=new XMLHttpRequest;b.onreadystatechange=this.likeRequestHandler.bind(this);b.open("POST",a,!0);b.send()}},likeRequestHandler:function(a){if(!(a.target.readyState!==
XMLHttpRequest.DONE||200!==a.target.status))try{!0===JSON.parse(a.target.responseText).commited&&(this.incrementLike(),this.addToLocalStorage(this.like))}catch(b){console.error("ERROR LIKING:",b)}},incrementLike:function(){var a=parseInt(this.like.getAttribute("data-like-count"),10),a=a+1;this.like.classList.add("is-active");this.syncLikes(a)},onShare:function(a){window.open(a.getAttribute("href"),"Share","width=420,height=230,dialog");a=a.querySelector(".Share-buttons-item-count");a.innerHTML=parseInt(a.innerHTML,
10)+1},onSharePopupClose:function(a,b){var d=0,c=setInterval(function(){if(a.closed||150<d)clearInterval(c),this.getCount(b);d++}.bind(this),200)},getLocalStorageKey:function(a){var b=a.getAttribute("data-service");return a===this.like?"squarespace-likes":b?"squarespace-shares-"+b:null},isInLocalStorage:function(a){if(!localStorage||!JSON)return!1;a=this.getLocalStorageKey(a);if(a=JSON.parse(localStorage.getItem(a)))return!0===a[this.ID]?!0:!1},addToLocalStorage:function(a){if(!localStorage||!JSON)return!1;
a=this.getLocalStorageKey(a);var b=JSON.parse(localStorage.getItem(a))||{};b[this.ID]=!0;localStorage.setItem(a,JSON.stringify(b))},readCookie:function(a){a+="=";for(var b=document.cookie.split(";"),d=0;d<b.length;d++){for(var c=b[d];" "==c.charAt(0);)c=c.substring(1,c.length);if(0==c.indexOf(a))return c.substring(a.length,c.length)}return null}};var f={CALLBACK_NAMESPACE:"SquarespaceShareButtonCounts"+Date.now(),SERVICE_NAMES:["facebook","linkedin","pinterest"],COUNT_KEYS:{facebook:"shares",linkedin:"count",
pinterest:"count"},URL_KEYS:{facebook:"id",linkedin:"url",pinterest:"url"},API_BASE_URLS:{facebook:"https://graph.facebook.com/?id=",linkedin:"https://www.linkedin.com/countserv/count/share?url=",pinterest:"https://widgets.pinterest.com/v1/urls/count.json?source=6&url="}};window[f.CALLBACK_NAMESPACE]={facebook:function(a){g(a,"facebook")},linkedin:function(a){g(a,"linkedin")},pinterest:function(a){g(a,"pinterest")}};e.all(".Share").each(function(a){a=a.getDOMNode();(new h({container:a,id:a.getAttribute("data-item-identifier"),
path:a.getAttribute("data-item-path"),like:a.querySelector(".Share-buttons-item--like")})).init()})})})}});
