webpackJsonp([25],{0:function(z,A,c){c(1416);c(1047);c(1099);c(1098);c(506);c(417);c(505);c(1100);c(987);c(191);c(237)},191:function(z,A){YUI.add("squarespace-spinner",function(c){c.namespace("Squarespace").Spinner=c.Base.create("Spinner",c.Widget,[],{renderUI:function(){this.get("boundingBox").addClass(this.get("color"));0<c.UA.ie&&10>c.UA.ie&&(this.get("contentBox").append(c.Node.create('<img class="sqs-ie-spinner" src="crappy-ie-spinner.gif"/>')),this.get("boundingBox").addClass("degraded"));
var k=this.get("size");c.Lang.isNumber(k)||this.get("boundingBox").addClass(k)},spin:function(){this.get("boundingBox").show()},stop:function(){this.get("boundingBox").hide()},addClass:function(c){this.get("boundingBox").addClass(c)}},{CSS_PREFIX:"sqs-spin",NS:"spinner",ATTRS:{size:{value:"default",setter:function(k){c.Lang.isNumber(k)&&(this.set("width",k),this.set("height",k));return k}},color:{value:"light"}}})},"1.0",{requires:["base-build","widget"]})},237:function(z,A){YUI.add("squarespace-widgets-alert",
function(c){c.namespace("Squarespace.Widgets");var k=c.Squarespace.Widgets.Alert=c.Base.create("alert",c.Squarespace.Widgets.Confirmation,[],{},{CSS_PREFIX:"sqs-widgets-confirmation",TYPE:c.Squarespace.Widgets.Confirmation.TYPE,ANCHOR:c.Squarespace.Widgets.Confirmation.ANCHOR,show:function(a){return new k(a)},ATTRS:{className:{value:"alert"},style:{value:c.Squarespace.Widgets.Confirmation.TYPE.CONFIRM_ONLY},"strings.confirm":{value:"Okay"}}})},"1.0",{requires:["base","squarespace-widgets-confirmation"]})},
417:function(z,A){YUI.add("datatype-date-format",function(c,k){var a=function(b,e,a){"undefined"===typeof a&&(a=10);for(e+="";parseInt(b,10)<a&&1<a;a/=10)b=e+b;return b.toString()},f={formats:{a:function(b,e){return e.a[b.getDay()]},A:function(b,e){return e.A[b.getDay()]},b:function(b,e){return e.b[b.getMonth()]},B:function(b,e){return e.B[b.getMonth()]},C:function(b){return a(parseInt(b.getFullYear()/100,10),0)},d:["getDate","0"],e:["getDate"," "],g:function(b){return a(parseInt(f.formats.G(b)%100,
10),0)},G:function(b){var e=b.getFullYear(),a=parseInt(f.formats.V(b),10);b=parseInt(f.formats.W(b),10);b>a?e++:0===b&&52<=a&&e--;return e},H:["getHours","0"],I:function(b){b=b.getHours()%12;return a(0===b?12:b,0)},j:function(b){var e=new Date(""+b.getFullYear()+"/1/1 GMT");b=new Date(""+b.getFullYear()+"/"+(b.getMonth()+1)+"/"+b.getDate()+" GMT")-e;b=parseInt(b/6E4/60/24,10)+1;return a(b,0,100)},k:["getHours"," "],l:function(b){b=b.getHours()%12;return a(0===b?12:b," ")},m:function(b){return a(b.getMonth()+
1,0)},M:["getMinutes","0"],p:function(b,e){return e.p[12<=b.getHours()?1:0]},P:function(b,e){return e.P[12<=b.getHours()?1:0]},s:function(b,e){return parseInt(b.getTime()/1E3,10)},S:["getSeconds","0"],u:function(b){b=b.getDay();return 0===b?7:b},U:function(b){var e=parseInt(f.formats.j(b),10);b=6-b.getDay();e=parseInt((e+b)/7,10);return a(e,0)},V:function(b){var e=parseInt(f.formats.W(b),10),c=(new Date(""+b.getFullYear()+"/1/1")).getDay(),e=e+(4<c||1>=c?0:1);53===e&&4>(new Date(""+b.getFullYear()+
"/12/31")).getDay()?e=1:0===e&&(e=f.formats.V(new Date(""+(b.getFullYear()-1)+"/12/31")));return a(e,0)},w:"getDay",W:function(b){var e=parseInt(f.formats.j(b),10);b=7-f.formats.u(b);e=parseInt((e+b)/7,10);return a(e,0,10)},y:function(b){return a(b.getFullYear()%100,0)},Y:"getFullYear",z:function(b){b=b.getTimezoneOffset();var e=a(parseInt(Math.abs(b/60),10),0),c=a(Math.abs(b%60),0);return(0<b?"-":"+")+e+c},Z:function(b){var e=b.toString().replace(/^.*:\d\d( GMT[+-]\d+)? \(?([A-Za-z ]+)\)?\d*$/,"$2").replace(/[a-z ]/g,
"");4<e.length&&(e=f.formats.z(b));return e},"%":function(b){return"%"}},aggregates:{c:"locale",D:"%m/%d/%y",F:"%Y-%m-%d",h:"%b",n:"\n",r:"%I:%M:%S %p",R:"%H:%M",t:"\t",T:"%H:%M:%S",x:"locale",X:"locale"},format:function(b,e){e=e||{};if(!c.Lang.isDate(b))return c.Lang.isValue(b)?b:"";var u,p;u=e.format||"%Y-%m-%d";p=c.Intl.get("datatype-date-format");for(var k=function(e,b){var a=f.aggregates[b];return"locale"===a?p[b]:a},t=function(e,u){var k=f.formats[u];switch(c.Lang.type(k)){case "string":return b[k]();
case "function":return k.call(b,b,p);case "array":if("string"===c.Lang.type(k[0]))return a(b[k[0]](),k[1]);default:return u}};u.match(/%[cDFhnrRtTxX]/);)u=u.replace(/%([cDFhnrRtTxX])/g,k);u=u.replace(/%([aAbBCdegGHIjklmMpPsSuUVwWyYzZ%])/g,t);k=t=void 0;return u}};c.mix(c.namespace("Date"),f);c.namespace("DataType");c.DataType.Date=c.Date},"3.17.2",{lang:"ar ar-JO ca ca-ES da da-DK de de-AT de-DE el el-GR en en-AU en-CA en-GB en-IE en-IN en-JO en-MY en-NZ en-PH en-SG en-US es es-AR es-BO es-CL es-CO es-EC es-ES es-MX es-PE es-PY es-US es-UY es-VE fi fi-FI fr fr-BE fr-CA fr-FR hi hi-IN hu id id-ID it it-IT ja ja-JP ko ko-KR ms ms-MY nb nb-NO nl nl-BE nl-NL pl pl-PL pt pt-BR ro ro-RO ru ru-RU sv sv-SE th th-TH tr tr-TR vi vi-VN zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-Hant-TW".split(" ")})},
505:function(z,A){YUI.add("datatype-date-math",function(c,k){var a=c.Lang;c.mix(c.namespace("Date"),{isValidDate:function(c){return a.isDate(c)&&isFinite(c)&&"Invalid Date"!=c&&!isNaN(c)&&null!=c?!0:!1},areEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()==b.getTime()},isGreater:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>b.getTime()},isGreaterOrEqual:function(a,b){return this.isValidDate(a)&&this.isValidDate(b)&&a.getTime()>=b.getTime()},
isInRange:function(a,b,e){return this.isGreaterOrEqual(a,b)&&this.isGreaterOrEqual(e,a)},addDays:function(a,b){return new Date(a.getTime()+864E5*b)},addMonths:function(a,b){var e=a.getFullYear(),c=a.getMonth()+b,e=Math.floor(e+c/12),c=(c%12+12)%12,p=new Date(a.getTime());p.setFullYear(e);p.setMonth(c);return p},addYears:function(a,b){var e=a.getFullYear()+b,c=new Date(a.getTime());c.setFullYear(e);return c},listOfDatesInMonth:function(a){if(!this.isValidDate(a))return[];var b=this.daysInMonth(a),
e=a.getFullYear();a=a.getMonth();for(var c=[],p=1;p<=b;p++)c.push(new Date(e,a,p,12,0,0));return c},daysInMonth:function(a){if(!this.isValidDate(a))return 0;var b=a.getMonth(),e=[31,28,31,30,31,30,31,31,30,31,30,31];if(1!=b)return e[b];a=a.getFullYear();return 0===a%400?29:0===a%100?28:0===a%4?29:28}});c.namespace("DataType");c.DataType.Date=c.Date},"3.17.2",{requires:["yui-base"]})},506:function(z,A){YUI.add("datatype-date-parse",function(c,k){c.mix(c.namespace("Date"),{parse:function(a){a=new Date(+a||
a);return c.Lang.isDate(a)?a:null}});c.namespace("Parsers").date=c.Date.parse;c.namespace("DataType");c.DataType.Date=c.Date},"3.17.2")},987:function(z,A){YUI.add("squarespace-calendar-day-template",function(c){var k=c.Handlebars;(function(){var a=k.template;(k.templates=k.templates||{})["calendar-day.html"]=a(function(a,b,e,c,p){function k(e,a){return""}function t(a,h){var c,d,b;c='\n\t<div class="background';if((b=e["if"].call(a,(d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.structuredContent),
null==d||!1===d?d:d.startDate),{hash:{},inverse:l.noop,fn:l.program(5,n,h),data:h}))||0===b)c+=b;return c+='">\n\t\t<a href="'+r((d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.fullUrl),typeof d===x?d.apply(a):d))+'" class="background-image-link"><img data-src="'+r((d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.assetUrl),typeof d===x?d.apply(a):d))+'" data-image-dimensions="'+r((d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.originalSize),typeof d===x?d.apply(a):
d))+'" data-load="false" class="background-image"></a>\n\t</div>\n\t'}function n(e,a){return" background--iseventscollection"}function B(e,a){return" itemlist--iseventscollection"}function F(a,h){var c,d,b;c='\n\t<li class="item';if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.noop,fn:l.program(11,g,h),data:h}))||0===d)c+=d;if((d=e["if"].call(a,a.isSubsequentDayOfMultidayEvent,{hash:{},inverse:l.noop,fn:l.program(13,m,h),data:h}))||0===d)c+=d;c+='">\n\t\t<a href="';(d=e.fullUrl)?d=d.call(a,{hash:{},
data:h}):(d=a.fullUrl,d=typeof d===x?d.apply(a):d);c+=r(d)+'" class="item-link">\n\t\t\t<span class="item-time item-time--12hr">';b={hash:{},data:h};c+=r((d=e["calendar-compact-time-format"]||a["calendar-compact-time-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),b):D.call(a,"calendar-compact-time-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),b)))+'&nbsp;</span>\n\t\t\t<span class="item-time item-time--24hr">';b={hash:{format:"%H:%M"},data:h};c+=r((d=e["date-format"]||
a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),b):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),b)))+'&nbsp;</span>\n\t\t\t<span class="item-title">';(d=e.title)?d=d.call(a,{hash:{},data:h}):(d=a.title,d=typeof d===x?d.apply(a):d);c+=r(d)+"</span>\n\t\t\t";if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.noop,fn:l.program(15,y,h),data:h}))||0===d)c+=d;return c+"\n\t\t</a>\n\t</li>\n\t"}function g(e,a){return" item--multiday"}function m(e,
a){return" item--ongoing"}function y(a,h){var c,d;c={hash:{format:"%b %e"},data:h};return c='<span class="item-enddate">&nbsp;'+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),c):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),c)))+"</span>")}function C(e,a){return" flyoutitemlist--iseventscollection"}function M(e,a){return" \n\t\tflyoutitemlist--hasmorecontent\n\t"}function s(a,c){var h,d,b;h="\n\t\t";b={hash:{},inverse:l.noop,
fn:l.program(22,z,c),data:c};(d=e.events)?d=d.call(a,b):(d=a.events,d=typeof d===x?d.apply(a):d);e.events||(d=N.call(a,d,b));if(d||0===d)h+=d;return h+"\n\t"}function z(a,h){var c,d;c="\n\t\t\t";if((d=e["if"].call(a,a.excerpt,{hash:{},inverse:l.program(25,G,h),fn:l.program(23,A,h),data:h}))||0===d)c+=d;return c+"\n\t\t"}function A(a,e){return" \n\t\t\t\tflyoutitemlist--hasmorecontent\n\t\t\t"}function G(a,c){var h,d,b;h="\n\t\t\t\t";if((b=e["if"].call(a,(d=a.location,null==d||!1===d?d:d.addressLine1),
{hash:{},inverse:l.noop,fn:l.program(26,E,c),data:c}))||0===b)h+=b;return h+"\n\t\t\t"}function E(a,e){return" \n\t\t\t\t\tflyoutitemlist--hasmorecontent\n\t\t\t\t"}function I(a,c){var b,d,g;b='\n\t<li class="flyoutitem';if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.noop,fn:l.program(29,J,c),data:c}))||0===d)b+=d;if((d=e["if"].call(a,a.isSubsequentDayOfMultidayEvent,{hash:{},inverse:l.noop,fn:l.program(31,K,c),data:c}))||0===d)b+=d;b+='">\n\t\t<h1 class="flyoutitem-title"><a href="';(d=e.fullUrl)?
d=d.call(a,{hash:{},data:c}):(d=a.fullUrl,d=typeof d===x?d.apply(a):d);b+=r(d)+'" class="flyoutitem-link">';(d=e.title)?d=d.call(a,{hash:{},data:c}):(d=a.title,d=typeof d===x?d.apply(a):d);b+=r(d);if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.noop,fn:l.program(33,H,c),data:c}))||0===d)b+=d;b+='&nbsp;<span class="flyoutitem-link-arrow"></span></a></h1>\n\t\t<div class="flyoutitem-datetime flyoutitem-datetime--12hr">\n\t\t\t';if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.program(37,L,
c),fn:l.program(35,O,c),data:c}))||0===d)b+=d;b+='\n\t\t</div>\n\t\t<div class="flyoutitem-datetime flyoutitem-datetime--24hr">\n\t\t\t';if((d=e["if"].call(a,a.isMultiday,{hash:{},inverse:l.program(41,h,c),fn:l.program(39,v,c),data:c}))||0===d)b+=d;b+='\n\t\t</div>\n\t\t<div class="flyoutitem-location">\n\t\t\t';if((g=e["if"].call(a,(d=a.location,null==d||!1===d?d:d.addressTitle),{hash:{},inverse:l.noop,fn:l.program(43,P,c),data:c}))||0===g)b+=g;b+="\n\t\t\t";if((g=e["if"].call(a,(d=a.location,null==
d||!1===d?d:d.addressLine1),{hash:{},inverse:l.noop,fn:l.program(45,Q,c),data:c}))||0===g)b+=g;b+="\n\t\t\t";if((g=e["if"].call(a,(d=a.location,null==d||!1===d?d:d.addressLine2),{hash:{},inverse:l.noop,fn:l.program(47,R,c),data:c}))||0===g)b+=g;b+="\n\t\t\t";if((g=e["if"].call(a,(d=a.location,null==d||!1===d?d:d.addressCountry),{hash:{},inverse:l.noop,fn:l.program(49,S,c),data:c}))||0===g)b+=g;b+="\n\t\t</div>\n\t\t";if((g=e["if"].call(a,a.excerpt,{hash:{},inverse:l.noop,fn:l.program(51,T,c),data:c}))||
0===g)b+=g;return b+"\n\t</li>\n\t"}function J(a,e){return" flyoutitem--multiday"}function K(a,e){return" flyoutitem--ongoing"}function H(a,c){var b,d;b={hash:{format:"%b %e"},data:c};return b=' <span class="flyoutitem-enddate">'+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),b):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),b)))+"</span>")}function O(a,c){var b,d,h;h={hash:{format:"%a, %b %e, %l:%M%P"},data:c};b=
"\n\t\t\t\t"+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),h)))+" &ndash; ");h={hash:{format:"%a, %b %e, %l:%M%P"},data:c};return b+=r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),h)))+"\n\t\t\t"}function L(a,c){var b,d,h;h={hash:{format:"%l:%M%P"},
data:c};b="\n\t\t\t\t"+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),h)))+" &ndash; ");h={hash:{format:"%l:%M%P"},data:c};return b+=r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),h)))+"\n\t\t\t"}function v(a,c){var b,d,h;h={hash:{format:"%a, %b %e, %H:%M"},
data:c};b="\n\t\t\t\t"+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),h)))+" &ndash; ");h={hash:{format:"%a, %b %e, %H:%M"},data:c};return b+=r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),h)))+"\n\t\t\t"}function h(a,c){var b,d,
h;h={hash:{format:"%H:%M"},data:c};b="\n\t\t\t\t"+(r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.startDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.startDate),h)))+" &ndash; ");h={hash:{format:"%H:%M"},data:c};return b+=r((d=e["date-format"]||a["date-format"],d?d.call(a,(d=a.structuredContent,null==d||!1===d?d:d.endDate),h):D.call(a,"date-format",(d=a.structuredContent,null==d||!1===d?d:d.endDate),h)))+"\n\t\t\t"}function P(a,
e){var c,d;return c=""+('<div class="flyoutitem-location-addresstitle">'+r((d=(d=a.location,null==d||!1===d?d:d.addressTitle),typeof d===x?d.apply(a):d))+"</div>")}function Q(a,e){var c,d;return c=""+('<div class="flyoutitem-location-address1">'+r((d=(d=a.location,null==d||!1===d?d:d.addressLine1),typeof d===x?d.apply(a):d))+"</div>")}function R(a,e){var c,d;return c=""+('<div class="flyoutitem-location-address2">'+r((d=(d=a.location,null==d||!1===d?d:d.addressLine2),typeof d===x?d.apply(a):d))+"</div>")}
function S(a,c){var e,d;return e=""+('<div class="flyoutitem-location-addresscountry">'+r((d=(d=a.location,null==d||!1===d?d:d.addressCountry),typeof d===x?d.apply(a):d))+"</div>")}function T(a,c){var b,d;b='<div class="flyoutitem-excerpt">';(d=e.excerpt)?d=d.call(a,{hash:{},data:c}):(d=a.excerpt,d=typeof d===x?d.apply(a):d);if(d||0===d)b+=d;return b+"</div>"}this.compilerInfo=[4,">= 1.0.0"];e=this.merge(e,a.helpers);p=p||{};a="";var q,l=this,x="function",r=this.escapeExpression,D=e.helperMissing,
N=e.blockHelperMissing;if((c=e["if"].call(b,(q=(q=b.events,null==q||!1===q?q:q[0]),null==q||!1===q?q:q.systemDataId),{hash:{},inverse:l.noop,fn:l.program(1,function(a,c){var b,d,h;b="\n\t";if((h=e["if"].call(a,(d=(d=a.events,null==d||!1===d?d:d[1]),null==d||!1===d?d:d.title),{hash:{},inverse:l.program(4,t,c),fn:l.program(2,k,c),data:c}))||0===h)b+=h;return b+"\n"},p),data:p}))||0===c)a+=c;c={hash:{format:"%a"},data:p};a=a+'\n\n<div class="marker">\n\t<div class="marker-dayname">'+(r((q=e["day-of-month-format"]||
b["day-of-month-format"],q?q.call(b,b.date,c):D.call(b,"day-of-month-format",b.date,c)))+'</div>\n\t<div class="marker-daynum">');c={hash:{format:"%e"},data:p};a+=r((q=e["day-of-month-format"]||b["day-of-month-format"],q?q.call(b,b.date,c):D.call(b,"day-of-month-format",b.date,c)))+"</div>\n</div>\n\n";if((c=e["if"].call(b,b.events,{hash:{},inverse:l.noop,fn:l.program(7,function(a,c){var b,d,h,g;b='\n<ul class="itemlist';if((h=e["if"].call(a,(d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===
d?d:d.structuredContent),null==d||!1===d?d:d.startDate),{hash:{},inverse:l.noop,fn:l.program(8,B,c),data:c}))||0===h)b+=h;b+='">\n\t';g={hash:{},inverse:l.noop,fn:l.program(10,F,c),data:c};(h=e.events)?h=h.call(a,g):(h=a.events,h=typeof h===x?h.apply(a):h);e.events||(h=N.call(a,h,g));if(h||0===h)b+=h;b+='\n</ul>\n\n<ul class="\n\tflyoutitemlist\n\t';if((h=e["if"].call(a,(d=(d=(d=a.events,null==d||!1===d?d:d[0]),null==d||!1===d?d:d.structuredContent),null==d||!1===d?d:d.startDate),{hash:{},inverse:l.noop,
fn:l.program(17,C,c),data:c}))||0===h)b+=h;b+="\n\t";if((h=e["if"].call(a,(d=(d=a.events,null==d||!1===d?d:d[1]),null==d||!1===d?d:d.title),{hash:{},inverse:l.program(21,s,c),fn:l.program(19,M,c),data:c}))||0===h)b+=h;b+='\n">\n\t';g={hash:{},inverse:l.noop,fn:l.program(28,I,c),data:c};(h=e.events)?h=h.call(a,g):(h=a.events,h=typeof h===x?h.apply(a):h);e.events||(h=N.call(a,h,g));if(h||0===h)b+=h;return b+='\n</ul>\n\n<div class="itemcount">'+r((d=(d=a.events,null==d||!1===d?d:d.length),typeof d===
x?d.apply(a):d))+"</div>\n"},p),data:p}))||0===c)a+=c;return a+="\n"})})();c.Handlebars.registerPartial("calendar-day.html".replace("/","."),k.templates["calendar-day.html"])},"1.0",{requires:["handlebars-base"]})},1047:function(z,A,c){var k=c(131);YUI.add("squarespace-calendar-core-renderer",function(a){var c=function(a){return a.recordType===k.EVENT?a.structuredContent.startDate:a.addedOn};a.Squarespace.SquarespaceCalendar=a.Base.create("SquarespaceCalendar",a.Calendar,[],{initializer:function(){this._fetchEvents()},
bindUI:function(){a.Calendar.superclass.bindUI.call(this);this.before("dateChange",this._clearEvents,this);this.after("dateChange",this._fetchEvents,this);this.after("collectionIdChange",this._fetchEvents,this)},_clearEvents:function(){this.set("events",[])},_fetchEvents:function(){var b=this.get("date"),b=a.DataType.Date.format(b,{format:"%B-%Y",locale:"en"});a.Data.get({url:this._getFetchUrl(b),success:this._parseResponse,failure:this._handleResponseError},this)},_parseResponse:function(a){this.set("events",
a)},_handleResponseError:function(a){this.fire("fetchEventsFailure");console.error("Failed fetch data: "+a)},_getFetchUrl:function(b){var c=this.get("collectionId"),p=this.get("pageCollectionId");b="/api/open/GetItemsByMonth?collectionId="+c+"&month="+b;a.Lang.isValue(p)&&(b+="&pageCollectionId="+p);return b}},{ATTRS:{events:{value:[],validator:a.Lang.isArray},collectionId:{value:null,validator:a.Lang.isString},pageCollectionId:{value:null,validator:a.Lang.isString}}});a.Squarespace.CalendarBaseRenderer=
a.Base.create("CalendarBaseRenderer",a.Plugin.Base,[],{initializer:function(a){this.host=a.host;this.afterHostEvent("eventsChange",this._onEventsChange,this)},_onEventsChange:function(b){var c=null;a.Lang.isArray(b.newVal)&&0<b.newVal.length&&(c=a.bind(this._calendarFilterFunction,this));this.host.set("customRenderer",{rules:{all:"events"},filterFunction:c})},_calendarFilterFunction:function(a,b,c){c=this.host.get("events");c=this._getEventsOfDay(c,a);this._sortEvents(c);this._renderDay(a,b,c)},_renderDay:function(a,
b,c){0<c.length&&b.setStyle("background","gray")},_sortEvents:function(a){a.sort(function(a,b){var e=c(a);return c(b)-e})},_getEventsOfDay:function(b,c){var f=a.DataType.Date.format(c,{format:"%Y-%m-%d"});return a.Lang.isArray(b)&&0<b.length?a.Array.filter(b,function(a){return this._isEventPartOfDay(a,f)},this):[]},_isEventPartOfDay:function(b,c){var f,w;w=b.structuredContent;if(b.recordType!==k.EVENT)return f=a.Squarespace.DateUtils.dateFormat(b.addedOn,{format:"%Y-%m-%d"}),f===c;f=a.Squarespace.DateUtils.dateFormat(w.startDate,
{format:"%Y-%m-%d"});w=a.Squarespace.DateUtils.dateFormat(w.endDate,{format:"%Y-%m-%d"});return c==f||c==w||new Date(c)>new Date(f)&&new Date(c)<new Date(w)?!0:!1},_getEventDisplayTime:function(b){b=c(b);return a.Squarespace.DateUtils.dateFormat(b,{format:"%l:%M%P"}).trim()},_isSameDay:function(b,c){if(b.recordType!==k.EVENT)return!0;var f=a.Squarespace.DateUtils.dateFormat(b.structuredContent.startDate,{format:"%Y-%m-%d"}),w=a.DataType.Date.format(c,{format:"%Y-%m-%d"});return f===w}},{NS:"calendarPlugin"});
var b=a.namespace("Squarespace").SquarespaceCalendarRenderer=a.Base.create("squarespaceCalendarRenderer",a.Squarespace.CalendarBaseRenderer,[],{initializer:function(b){this._loadingSpinner=new a.Squarespace.Spinner({color:"dark",size:"extra-large",render:this.host.get("contentBox")});this.onceAfterHostEvent("eventsChange",this._renderCalendar);this.onceAfterHostEvent("fetchEventsFailure",function(){this._loadingSpinner&&this._loadingSpinner.destroy(!0);window.SQUARESPACE_LOGIN&&window.SQUARESPACE_LOGIN.isLoggedIn()&&
this.host.get("boundingBox").ancestor().append('<div class="sqs-state-message">Please choose a valid collection for this calendar to display. It is possible that this calendar is pointing to a deleted collection.</div>');this.host.destroy()},this);this._bindUI()},destructor:function(){this._loadingSpinner&&this._loadingSpinner.destroy(!0);this._resizeEvent.detach()},_bindUI:function(){this._resizeEvent=a.on("resize",this._syncUI,a.config.win,this)},_syncUI:function(){this.host.get("contentBox").getDOMNode()&&
(this._fitToContainer(),this._setupCells(),this.host.get("contentBox").hasClass(b.COMPACT_LAYOUT_CLASS)||this._loadImages(),this._setFlyoutHeights())},_onEventsChange:function(b){b=a.bind(this._calendarFilterFunction,this);this.host.set("customRenderer",{rules:{all:{all:{all:{0:"sunday",1:"monday",2:"tuesday",3:"wednesday",4:"thursday",5:"friday",6:"saturday"}}}},filterFunction:b});this.get("isRendered")&&this._syncUI()},_calendarFilterFunction:function(a,c,f){b.superclass._calendarFilterFunction.apply(this,
arguments);0<=f.indexOf("sunday")?c.addClass("sunday"):0<=f.indexOf("monday")?c.addClass("monday"):0<=f.indexOf("friday")?c.addClass("friday"):0<=f.indexOf("saturday")&&c.addClass("saturday")},_fitToContainer:function(){var a=this.host.get("contentBox");a.toggleClass(b.SMALL_LAYOUT_CLASS,770>=a.get("offsetWidth"));a.toggleClass(b.COMPACT_LAYOUT_CLASS,600>=a.get("offsetWidth"));a.toggleClass(b.TINY_LAYOUT_CLASS,300>=a.get("offsetWidth"))},_setupHeader:function(){this.host.get("contentBox").one(".yui3-calendar-header-label").wrap("<h1></h1>")},
_setupCells:function(){var a=this.host.get("contentBox").one("table");a.setStyle("width",null);this.cellSpacing=parseInt(a.getComputedStyle("borderSpacing"),10);var b=7*parseInt((a.get("offsetWidth")-8*this.cellSpacing)/7,10)+8*this.cellSpacing;a.setStyle("width",b);a.all("td").setStyles({width:parseInt(b/7,10)-this.cellSpacing,height:parseInt(b/7,10)-this.cellSpacing})},_loadImages:function(){this.host.get("contentBox").all("img[data-src]").each(function(a){ImageLoader.load(a,{mode:"fill",load:!0})},
this)},_setFlyoutHeights:function(){this.host.get("contentBox").all(".flyoutitemlist--hasmorecontent").each(function(a){var b=a.ancestor("tr"),c=this._getRowHeight(b),b=a.ancestor("tr:nth-child(4)")||a.ancestor("tr:nth-child(5)")||a.ancestor("tr:nth-child(6)")?this._getRowHeight(b.previous("tr")):this._getRowHeight(b.next("tr"));a.setStyle("height",c+b+this.cellSpacing)},this);this.host.get("contentBox").all("tr").removeAttribute("data-row-height")},_getRowHeight:function(a){if(a.getAttribute("data-row-height"))return parseInt(a.getAttribute("data-row-height"),
10);var b=a.get("offsetHeight");a.setAttribute("data-row-height",b);return b},_renderCalendar:function(){this._setupHeader();this._syncUI();this._loadingSpinner&&this._loadingSpinner.destroy(!0);this.host.get("boundingBox").addClass("loaded");this.set("isRendered",!0)},_renderDay:function(a,b,c){this.setAttrs({date:a,node:b,events:this._groupEvents(c,a)});this._highlightToday();this._highlightDaysWithEvents();a=this._getTemplateInfo().template(this._getHBTemplateContext());b.empty().append(a)},_highlightToday:function(){var c=
new Date,c=new Date(c.setMinutes(c.getMinutes()+a.Squarespace.DateUtils.getTimeOffsetToWebsiteTimezone(c)));this.get("date").setHours(0,0,0,0)===c.setHours(0,0,0,0)&&this.get("node").addClass(b.TODAY_CLASS)},_highlightDaysWithEvents:function(){0<this.get("events").length&&this.get("node").addClass(b.HAS_EVENT_CLASS)},_getTemplateInfo:function(){return{template:a.Squarespace.UITemplates.getCompiledTemplate(b.HANDLEBARS_TEMPLATE)}},_getHBTemplateContext:function(){return{date:this.get("date"),events:this.get("events")}},
_groupEvents:function(b,c){var f=[],k=[];a.Array.each(b,function(a){this._isSameDay(a,c)?f.unshift(a):(a.isSubsequentDayOfMultidayEvent=!0,k.unshift(a));this._isMultidayEvent(a)&&(a.isMultiday=!0)},this);return k.concat(f)},_isMultidayEvent:function(b){if(b.recordType===k.EVENT){var c=b.structuredContent;b=a.Squarespace.DateUtils.dateFormat(c.startDate,{format:"%d%m%Y"});c=a.Squarespace.DateUtils.dateFormat(c.endDate,{format:"%d%m%Y"});return b!==c}}},{NS:"calendarPlugin",TODAY_CLASS:"today",HAS_EVENT_CLASS:"has-event",
SMALL_LAYOUT_CLASS:"small-layout",COMPACT_LAYOUT_CLASS:"compact-layout",TINY_LAYOUT_CLASS:"tiny-layout",HANDLEBARS_TEMPLATE:"calendar-day.html"});a.Handlebars.registerHelper("day-of-month-format",function(b,c){return a.DataType.Date.format(b,{format:c.hash.format||"%B %e, %Y"})});a.Handlebars.registerHelper("date-format",function(b,c){return a.Squarespace.DateUtils.dateFormat(b,{format:c.hash.format||"%B %e, %Y"})});a.Handlebars.registerHelper("calendar-compact-time-format",function(b){var c="PM"==
a.Squarespace.DateUtils.dateFormat(b,{format:"%p"})?"p":"a";return 0===(new Date(b)).getMinutes()?a.Squarespace.DateUtils.dateFormat(b,{format:"%l"})+c:a.Squarespace.DateUtils.dateFormat(b,{format:"%l:%M"})+c})},"1.0",{requires:"calendar node squarespace-attr-validators squarespace-calendar-day-template squarespace-date-utils squarespace-ui-base squarespace-spinner squarespace-widgets-alert".split(" ")})},1098:function(z,A){YUI.add("calendar-base",function(c,k){function a(){a.superclass.constructor.apply(this,
arguments)}var f=c.ClassNameManager.getClassName,b=f("calendar","grid"),e=f("calendar","left-grid"),u=f("calendar","right-grid"),p=f("calendar","body"),w=f("calendar","header"),t=f("calendar","header-label"),n=f("calendar","weekdayrow"),B=f("calendar","weekday"),F=f("calendar","column-hidden"),g=f("calendar","day-selected"),m=f("calendar","selection-disabled"),y=f("calendar","row"),C=f("calendar","day"),M=f("calendar","prevmonth-day"),s=f("calendar","nextmonth-day"),z=f("calendar","anchor"),A=f("calendar",
"pane"),f=f("calendar","status"),G=c.Lang,E=G.sub,I=c.Array.each,J=c.Object.each,K=c.Array.indexOf,H=c.Object.hasKey,O=c.Object.setValue,L=c.Object.isEmpty,v=c.DataType.Date;c.CalendarBase=c.extend(a,c.Widget,{_paneProperties:{},_paneNumber:1,_calendarId:null,_selectedDates:{},_rules:{},_filterFunction:null,_storedDateCells:{},initializer:function(){this._paneProperties={};this._calendarId=c.guid("calendar");this._selectedDates={};L(this._rules)&&(this._rules={});this._storedDateCells={}},renderUI:function(){this.get("contentBox").appendChild(this._initCalendarHTML(this.get("date")));
this.get("showPrevMonth")&&this._afterShowPrevMonthChange();this.get("showNextMonth")&&this._afterShowNextMonthChange();this._renderCustomRules();this._renderSelectedDates();this.get("boundingBox").setAttribute("aria-labelledby",this._calendarId+"_header")},bindUI:function(){this.after("dateChange",this._afterDateChange);this.after("showPrevMonthChange",this._afterShowPrevMonthChange);this.after("showNextMonthChange",this._afterShowNextMonthChange);this.after("headerRendererChange",this._afterHeaderRendererChange);
this.after("customRendererChange",this._afterCustomRendererChange);this.after("enabledDatesRuleChange",this._afterCustomRendererChange);this.after("disabledDatesRuleChange",this._afterCustomRendererChange);this.after("focusedChange",this._afterFocusedChange);this.after("selectionChange",this._renderSelectedDates);this._bindCalendarEvents()},_getSelectedDatesList:function(){var a=[];J(this._selectedDates,function(b){J(b,function(b){J(b,function(b){a.push(b)},this)},this)},this);return a},_getSelectedDatesInMonth:function(a){var b=
a.getFullYear();a=a.getMonth();return H(this._selectedDates,b)&&H(this._selectedDates[b],a)?c.Object.values(this._selectedDates[b][a]):[]},_isNumInList:function(a,b){if("all"===b)return!0;for(var c=b.split(","),e=c.length,g;e--;)if(g=c[e].split("-"),2===g.length&&a>=parseInt(g[0],10)&&a<=parseInt(g[1],10)||1===g.length&&parseInt(c[e],10)===a)return!0;return!1},_getRulesForDate:function(a){var b=a.getFullYear(),c=a.getMonth(),e=a.getDate();a=a.getDay();var g=this._rules,f=[],q,l,m,k;for(q in g)if(this._isNumInList(b,
q))if(G.isString(g[q]))f.push(g[q]);else for(l in g[q])if(this._isNumInList(c,l))if(G.isString(g[q][l]))f.push(g[q][l]);else for(m in g[q][l])if(this._isNumInList(e,m))if(G.isString(g[q][l][m]))f.push(g[q][l][m]);else for(k in g[q][l][m])this._isNumInList(a,k)&&G.isString(g[q][l][m][k])&&f.push(g[q][l][m][k]);return f},_matchesRule:function(a,b){return 0<=K(this._getRulesForDate(a),b)},_canBeSelected:function(a){var b=this.get("enabledDatesRule"),c=this.get("disabledDatesRule");return b?this._matchesRule(a,
b):c?!this._matchesRule(a,c):!0},selectDates:function(a){v.isValidDate(a)?this._addDateToSelection(a):G.isArray(a)&&this._addDatesToSelection(a);return this},deselectDates:function(a){a?v.isValidDate(a)?this._removeDateFromSelection(a):G.isArray(a)&&this._removeDatesFromSelection(a):this._clearSelection();return this},_addDateToSelection:function(a,b){a=this._normalizeTime(a);if(this._canBeSelected(a)){var c=a.getFullYear(),e=a.getMonth(),g=a.getDate();H(this._selectedDates,c)?H(this._selectedDates[c],
e)||(this._selectedDates[c][e]={}):(this._selectedDates[c]={},this._selectedDates[c][e]={});this._selectedDates[c][e][g]=a;this._selectedDates=O(this._selectedDates,[c,e,g],a);b||this._fireSelectionChange()}},_addDatesToSelection:function(a){I(a,this._addDateToSelection,this);this._fireSelectionChange()},_addDateRangeToSelection:function(a,b){var c=6E4*(b.getTimezoneOffset()-a.getTimezoneOffset()),e=a.getTime(),g=b.getTime(),f;e>g?(f=e,e=g,g=f+c):g-=c;for(c=e;c<=g;c+=864E5)e=new Date(c),e.setHours(12),
this._addDateToSelection(e,c);this._fireSelectionChange()},_removeDateFromSelection:function(a,b){var c=a.getFullYear(),e=a.getMonth(),g=a.getDate();H(this._selectedDates,c)&&(H(this._selectedDates[c],e)&&H(this._selectedDates[c][e],g))&&(delete this._selectedDates[c][e][g],b||this._fireSelectionChange())},_removeDatesFromSelection:function(a){I(a,this._removeDateFromSelection,this);this._fireSelectionChange()},_removeDateRangeFromSelection:function(a,b){for(var c=a.getTime(),e=b.getTime();c<=e;c+=
864E5)this._removeDateFromSelection(new Date(c),c);this._fireSelectionChange()},_clearSelection:function(a){this._selectedDates={};this.get("contentBox").all("."+g).removeClass(g).setAttribute("aria-selected",!1);a||this._fireSelectionChange()},_fireSelectionChange:function(){this.fire("selectionChange",{newSelection:this._getSelectedDatesList()})},_restoreModifiedCells:function(){var a=this.get("contentBox"),b;for(b in this._storedDateCells)a.one("#"+b).replace(this._storedDateCells[b]),delete this._storedDateCells[b]},
_renderCustomRules:function(){this.get("contentBox").all("."+C+",."+s).removeClass(m).setAttribute("aria-disabled",!1);if(!L(this._rules)){var a,b;for(a=0;a<this._paneNumber;a++)b=v.addMonths(this.get("date"),a),b=v.listOfDatesInMonth(b),I(b,c.bind(this._renderCustomRulesHelper,this))}},_renderCustomRulesHelper:function(a){var b=this.get("enabledDatesRule"),c=this.get("disabledDatesRule"),e;e=this._getRulesForDate(a);0<e.length?((b&&0>K(e,b)||!b&&c&&0<=K(e,c))&&this._disableDate(a),G.isFunction(this._filterFunction)&&
(b=this._dateToNode(a),this._storedDateCells[b.get("id")]=b.cloneNode(!0),this._filterFunction(a,b,e))):b&&this._disableDate(a)},_renderSelectedDates:function(){this.get("contentBox").all("."+g).removeClass(g).setAttribute("aria-selected",!1);var a,b;for(a=0;a<this._paneNumber;a++)b=v.addMonths(this.get("date"),a),b=this._getSelectedDatesInMonth(b),I(b,c.bind(this._renderSelectedDatesHelper,this))},_renderSelectedDatesHelper:function(a){this._dateToNode(a).addClass(g).setAttribute("aria-selected",
!0)},_disableDate:function(a){this._dateToNode(a).addClass(m).setAttribute("aria-disabled",!0)},_dateToNode:function(a){var b=a.getDate(),c=0,e=b%7;a=(12+a.getMonth()-this.get("date").getMonth())%12;var g=this._paneProperties[this._calendarId+"_pane_"+a].cutoffCol;switch(e){case 0:c=6<=g?12:5;break;case 1:c=6;break;case 2:c=0<g?7:0;break;case 3:c=1<g?8:1;break;case 4:c=2<g?9:2;break;case 5:c=3<g?10:3;break;case 6:c=4<g?11:4}return this.get("contentBox").one("#"+this._calendarId+"_pane_"+a+"_"+c+"_"+
b)},_nodeToDate:function(a){a=a.get("id").split("_").reverse();var b=parseInt(a[2],10);a=parseInt(a[0],10);var c=v.addMonths(this.get("date"),b),b=c.getFullYear(),c=c.getMonth();return new Date(b,c,a,12,0,0,0)},_bindCalendarEvents:function(){},_normalizeDate:function(a){return a?new Date(a.getFullYear(),a.getMonth(),1,12,0,0,0):null},_normalizeTime:function(a){return a?new Date(a.getFullYear(),a.getMonth(),a.getDate(),12,0,0,0):null},_getCutoffColumn:function(a,b){return 6-(this._normalizeDate(a).getDay()-
b+7)%7},_turnPrevMonthOn:function(a){var b=a.get("id"),c=v.daysInMonth(v.addMonths(this._paneProperties[b].paneDate,-1)),e;this._paneProperties[b].hasOwnProperty("daysInPrevMonth")||(this._paneProperties[b].daysInPrevMonth=0);if(c!==this._paneProperties[b].daysInPrevMonth){this._paneProperties[b].daysInPrevMonth=c;for(e=5;0<=e;e--)a.one("#"+b+"_"+e+"_"+(e-5)).set("text",c--)}},_turnPrevMonthOff:function(a){var b=a.get("id"),c;this._paneProperties[b].daysInPrevMonth=0;for(c=5;0<=c;c--)a.one("#"+b+
"_"+c+"_"+(c-5)).setContent("&nbsp;")},_cleanUpNextMonthCells:function(a){var b=a.get("id");a.one("#"+b+"_6_29").removeClass(s);a.one("#"+b+"_7_30").removeClass(s);a.one("#"+b+"_8_31").removeClass(s);a.one("#"+b+"_0_30").removeClass(s);a.one("#"+b+"_1_31").removeClass(s)},_turnNextMonthOn:function(a){var b=1,c=a.get("id"),e=this._paneProperties[c].daysInMonth,g=this._paneProperties[c].cutoffCol,f;for(f=e-22;f<g+7;f++)a.one("#"+c+"_"+f+"_"+(f+23)).set("text",b++).addClass(s);f=g;for(31===e&&1>=g?f=
2:30===e&&0===g&&(f=1);f<g+7;f++)a.one("#"+c+"_"+f+"_"+(f+30)).set("text",b++).addClass(s)},_turnNextMonthOff:function(a){var b=a.get("id"),c=this._paneProperties[b].daysInMonth,e=this._paneProperties[b].cutoffCol,g;for(g=c-22;12>=g;g++)a.one("#"+b+"_"+g+"_"+(g+23)).setContent("&nbsp;").addClass(s);g=0;for(31===c&&1>=e?g=2:30===c&&0===e&&(g=1);12>=g;g++)a.one("#"+b+"_"+g+"_"+(g+30)).setContent("&nbsp;").addClass(s)},_afterShowNextMonthChange:function(){var a=this.get("contentBox").one("#"+this._calendarId+
"_pane_"+(this._paneNumber-1));this._cleanUpNextMonthCells(a);this.get("showNextMonth")?this._turnNextMonthOn(a):this._turnNextMonthOff(a)},_afterShowPrevMonthChange:function(){var a=this.get("contentBox").one("#"+this._calendarId+"_pane_0");this.get("showPrevMonth")?this._turnPrevMonthOn(a):this._turnPrevMonthOff(a)},_afterHeaderRendererChange:function(){this.get("contentBox").one("."+t).setContent(this._updateCalendarHeader(this.get("date")))},_afterCustomRendererChange:function(){this._restoreModifiedCells();
this._renderCustomRules()},_afterDateChange:function(){var a=this.get("contentBox"),c=a.one("."+w).one("."+t),e=a.all("."+b),g=this.get("date"),f=0;a.setStyle("visibility","hidden");c.setContent(this._updateCalendarHeader(g));this._restoreModifiedCells();e.each(function(a){this._rerenderCalendarPane(v.addMonths(g,f++),a)},this);this._afterShowPrevMonthChange();this._afterShowNextMonthChange();this._renderCustomRules();this._renderSelectedDates();a.setStyle("visibility","inherit")},_initCalendarPane:function(b,
e){var g=this.get("strings.very_short_weekdays")||"Su Mo Tu We Th Fr Sa".split(" "),f=c.Intl.get("datatype-date-format").A,m=this.get("strings.first_weekday")||0,k=this._getCutoffColumn(b,m),q=v.daysInMonth(b),l="     ".split(" "),y={},n,B,p;y.weekday_row="";for(n=m;n<=m+6;n++)y.weekday_row+=E(a.WEEKDAY_TEMPLATE,{short_weekdayname:g[n%7],weekdayname:f[n%7]});y.weekday_row_template=E(a.WEEKDAY_ROW_TEMPLATE,y);for(g=0;5>=g;g++)for(f=0;12>=f;f++){m=7*g-5+f;n=e+"_"+f+"_"+m;B=C;1>m?B=M:m>q&&(B=s);if(1>
m||m>q)m="&nbsp;";p=f>=k&&f<k+7?"":F;l[g]+=E(a.CALDAY_TEMPLATE,{day_content:m,calendar_col_class:"calendar_col"+f,calendar_col_visibility_class:p,calendar_day_class:B,calendar_day_id:n})}y.body_template="";I(l,function(b){y.body_template+=E(a.CALDAY_ROW_TEMPLATE,{calday_row:b})});y.calendar_pane_id=e;y.calendar_pane_tabindex=this.get("tabIndex");y.pane_arialabel=v.format(b,{format:"%B %Y"});l=E(E(a.CALENDAR_GRID_TEMPLATE,y),a.CALENDAR_STRINGS);this._paneProperties[e]={cutoffCol:k,daysInMonth:q,paneDate:b};
return l},_rerenderCalendarPane:function(a,b){var c=this.get("strings.first_weekday")||0,c=this._getCutoffColumn(a,c),g=v.daysInMonth(a),e=b.get("id"),f,m;b.setStyle("visibility","hidden");b.setAttribute("aria-label",v.format(a,{format:"%B %Y"}));for(f=0;12>=f;f++)if(m=b.all(".calendar_col"+f),m.removeClass(F),f<c||f>=c+7)m.addClass(F);else switch(f){case 0:m=b.one("#"+e+"_0_30");30<=g?(m.set("text","30"),m.removeClass(s).addClass(C)):(m.setContent("&nbsp;"),m.removeClass(C).addClass(s));break;case 1:m=
b.one("#"+e+"_1_31");31<=g?(m.set("text","31"),m.removeClass(s).addClass(C)):(m.setContent("&nbsp;"),m.removeClass(C).addClass(s));break;case 6:m=b.one("#"+e+"_6_29");29<=g?(m.set("text","29"),m.removeClass(s).addClass(C)):(m.setContent("&nbsp;"),m.removeClass(C).addClass(s));break;case 7:m=b.one("#"+e+"_7_30");30<=g?(m.set("text","30"),m.removeClass(s).addClass(C)):(m.setContent("&nbsp;"),m.removeClass(C).addClass(s));break;case 8:m=b.one("#"+e+"_8_31"),31<=g?(m.set("text","31"),m.removeClass(s).addClass(C)):
(m.setContent("&nbsp;"),m.removeClass(C).addClass(s))}this._paneProperties[e].cutoffCol=c;this._paneProperties[e].daysInMonth=g;this._paneProperties[e].paneDate=a;b.setStyle("visibility","inherit")},_updateCalendarHeader:function(a){var b="",e=this.get("headerRenderer");c.Lang.isString(e)?b=v.format(a,{format:e}):e instanceof Function&&(b=e.call(this,a));return b},_initCalendarHeader:function(b){return E(E(a.HEADER_TEMPLATE,{calheader:this._updateCalendarHeader(b),calendar_id:this._calendarId}),a.CALENDAR_STRINGS)},
_initCalendarHTML:function(b){var e={},g=0,f,m;e.header_template=this._initCalendarHeader(b);e.calendar_id=this._calendarId;e.body_template=E(E(a.CONTENT_TEMPLATE,e),a.CALENDAR_STRINGS);m=e.body_template.replace(/\{calendar_grid_template\}/g,c.bind(function(){f=this._initCalendarPane(v.addMonths(b,g),e.calendar_id+"_pane_"+g);g++;return f},this));this._paneNumber=g;return m}},{CALENDAR_STRINGS:{calendar_grid_class:b,calendar_body_class:p,calendar_hd_class:w,calendar_hd_label_class:t,calendar_weekdayrow_class:n,
calendar_weekday_class:B,calendar_row_class:y,calendar_day_class:C,calendar_dayanchor_class:z,calendar_pane_class:A,calendar_right_grid_class:u,calendar_left_grid_class:e,calendar_status_class:f},CONTENT_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',ONE_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1">{calendar_grid_template}</div></div>',
TWO_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-2"><div class = "{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-2"><div class = "{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',THREE_PANE_TEMPLATE:'<div class="yui3-g {calendar_pane_class}" id="{calendar_id}">{header_template}<div class="yui3-u-1-3"><div class="{calendar_left_grid_class}">{calendar_grid_template}</div></div><div class="yui3-u-1-3">{calendar_grid_template}</div><div class="yui3-u-1-3"><div class="{calendar_right_grid_class}">{calendar_grid_template}</div></div></div>',
CALENDAR_GRID_TEMPLATE:'<table class="{calendar_grid_class}" id="{calendar_pane_id}" role="grid" aria-readonly="true" aria-label="{pane_arialabel}" tabindex="{calendar_pane_tabindex}"><thead>{weekday_row_template}</thead><tbody>{body_template}</tbody></table>',HEADER_TEMPLATE:'<div class="yui3-g {calendar_hd_class}"><div class="yui3-u {calendar_hd_label_class}" id="{calendar_id}_header" aria-role="heading">{calheader}</div></div>',WEEKDAY_ROW_TEMPLATE:'<tr class="{calendar_weekdayrow_class}" role="row">{weekday_row}</tr>',
CALDAY_ROW_TEMPLATE:'<tr class="{calendar_row_class}" role="row">{calday_row}</tr>',WEEKDAY_TEMPLATE:'<th class="{calendar_weekday_class}" role="columnheader" aria-label="{weekdayname}">{short_weekdayname}</th>',CALDAY_TEMPLATE:'<td class="{calendar_col_class} {calendar_day_class} {calendar_col_visibility_class}" id="{calendar_day_id}" role="gridcell" tabindex="-1">{day_content}</td>',NAME:"calendarBase",ATTRS:{tabIndex:{value:1},date:{value:new Date,setter:function(a){a=this._normalizeDate(a);return v.areEqual(a,
this.get("date"))?this.get("date"):a}},showPrevMonth:{value:!1},showNextMonth:{value:!1},strings:{valueFn:function(){return c.Intl.get("calendar-base")}},headerRenderer:{value:"%B %Y"},enabledDatesRule:{value:null},disabledDatesRule:{value:null},selectedDates:{readOnly:!0,getter:function(){return this._getSelectedDatesList()}},customRenderer:{lazyAdd:!1,value:{},setter:function(a){this._rules=a.rules;this._filterFunction=a.filterFunction}}}})},"3.17.2",{requires:["widget","datatype-date","datatype-date-math",
"cssgrids"],lang:"de en es es-AR fr hu it ja nb-NO nl pt-BR ru zh-Hans zh-Hans-CN zh-Hant zh-Hant-HK zh-HANT-TW".split(" "),skinnable:!0})},1099:function(z,A){YUI.add("calendar",function(c,k){function a(){a.superclass.constructor.apply(this,arguments)}var f=c.ClassNameManager.getClassName,b=f("calendar","day-selected"),e=f("calendar","day-highlighted"),u=f("calendar","day"),p=f("calendar","prevmonth-day"),w=f("calendar","nextmonth-day"),t=f("calendar","grid"),n=c.DataType.Date,B=f("calendar","pane"),
F=c.UA.os;c.Calendar=c.extend(a,c.CalendarBase,{_keyEvents:[],_highlightedDateNode:null,_lastSelectedDate:null,initializer:function(){this.plug(c.Plugin.CalendarNavigator);this._keyEvents=[];this._lastSelectedDate=this._highlightedDateNode=null},_bindCalendarEvents:function(){var a=this.get("contentBox").one("."+B);a.on("selectstart",this._preventSelectionStart);a.delegate("click",this._clickCalendar,"."+u+", ."+p+", ."+w,this);a.delegate("keydown",this._keydownCalendar,"."+t,this);a.delegate("focus",
this._focusCalendarGrid,"."+t,this);a.delegate("focus",this._focusCalendarCell,"."+u,this);a.delegate("blur",this._blurCalendarGrid,"."+t+",."+u,this);this.after(["minimumDateChange","maximumDateChange"],this._afterCustomRendererChange)},_preventSelectionStart:function(a){a.preventDefault()},_highlightDateNode:function(a){this._unhighlightCurrentDateNode();a=this._dateToNode(a);a.focus();a.addClass(e)},_unhighlightCurrentDateNode:function(){var a=this.get("contentBox").all("."+e);a&&a.removeClass(e)},
_getGridNumber:function(a){a=a.get("id").split("_").reverse();return parseInt(a[0],10)},_blurCalendarGrid:function(){this._unhighlightCurrentDateNode()},_focusCalendarCell:function(a){this._highlightedDateNode=a.target;a.stopPropagation()},_focusCalendarGrid:function(){this._unhighlightCurrentDateNode();this._highlightedDateNode=null},_keydownCalendar:function(a){var c=this._getGridNumber(a.target),e=!this._highlightedDateNode?null:this._nodeToDate(this._highlightedDateNode),f=a.keyCode,k=0,B;switch(f){case 40:k=
7;break;case 38:k=-7;break;case 37:k=-1;break;case 39:k=1;break;case 32:case 13:if(a.preventDefault(),this._highlightedDateNode)if(B=this.get("selectionMode"),"single"===B&&!this._highlightedDateNode.hasClass(b))this._clearSelection(!0),this._addDateToSelection(e);else if("multiple"===B||"multiple-sticky"===B)this._highlightedDateNode.hasClass(b)?this._removeDateFromSelection(e):this._addDateToSelection(e)}if(40===f||38===f||37===f||39===f)e||(e=n.addMonths(this.get("date"),c),k=0),a.preventDefault(),
a=n.addDays(e,k),c=this.get("date"),e=n.addMonths(this.get("date"),this._paneNumber-1),f=new Date(e),e.setDate(n.daysInMonth(e)),n.isInRange(a,c,e)?this._highlightDateNode(a):n.isGreater(c,a)?n.isGreaterOrEqual(this.get("minimumDate"),c)||(this.set("date",n.addMonths(c,-1)),this._highlightDateNode(a)):n.isGreater(a,e)&&!n.isGreaterOrEqual(f,this.get("maximumDate"))&&(this.set("date",n.addMonths(c,1)),this._highlightDateNode(a))},_clickCalendar:function(a){var c=a.currentTarget,e=c.hasClass(u)&&!c.hasClass(p)&&
!c.hasClass(w),f=c.hasClass(b);switch(this.get("selectionMode")){case "single":e&&!f&&(this._clearSelection(!0),this._addDateToSelection(this._nodeToDate(c)));break;case "multiple-sticky":e&&(f?this._removeDateFromSelection(this._nodeToDate(c)):this._addDateToSelection(this._nodeToDate(c)));break;case "multiple":e&&(!a.metaKey&&!a.ctrlKey&&!a.shiftKey?(this._clearSelection(!0),this._lastSelectedDate=this._nodeToDate(c),this._addDateToSelection(this._lastSelectedDate)):("macintosh"===F&&a.metaKey||
"macintosh"!==F&&a.ctrlKey)&&!a.shiftKey?f?(this._removeDateFromSelection(this._nodeToDate(c)),this._lastSelectedDate=null):(this._lastSelectedDate=this._nodeToDate(c),this._addDateToSelection(this._lastSelectedDate)):("macintosh"===F&&a.metaKey||"macintosh"!==F&&a.ctrlKey)&&a.shiftKey?this._lastSelectedDate?(a=this._nodeToDate(c),this._addDateRangeToSelection(a,this._lastSelectedDate),this._lastSelectedDate=a):(this._lastSelectedDate=this._nodeToDate(c),this._addDateToSelection(this._lastSelectedDate)):
a.shiftKey&&(this._lastSelectedDate?(a=this._nodeToDate(c),this._clearSelection(!0),this._addDateRangeToSelection(a,this._lastSelectedDate),this._lastSelectedDate=a):(this._clearSelection(!0),this._lastSelectedDate=this._nodeToDate(c),this._addDateToSelection(this._lastSelectedDate))))}e?this.fire("dateClick",{cell:c,date:this._nodeToDate(c)}):c.hasClass(p)?this.fire("prevMonthClick"):c.hasClass(w)&&this.fire("nextMonthClick")},_canBeSelected:function(b){var c=this.get("minimumDate"),e=this.get("maximumDate");
return c&&!n.isGreaterOrEqual(b,c)||e&&n.isGreater(b,e)?!1:a.superclass._canBeSelected.call(this,b)},_renderCustomRules:function(){a.superclass._renderCustomRules.call(this);var b=this.get("minimumDate"),c=this.get("maximumDate"),e=[],f,k;if(b||c){for(k=0;k<this._paneNumber;k++)f=n.addMonths(this.get("date"),k),e=e.concat(n.listOfDatesInMonth(f));if(b){f=0;for(k=e.length;f<k&&!n.isGreaterOrEqual(e[f],b);f++)this._disableDate(e[f])}if(c)for(f=e.length-1;0<=f;f--)if(n.isGreater(e[f],c))this._disableDate(e[f]);
else break}},subtractMonth:function(a){this.set("date",n.addMonths(this.get("date"),-1));a&&a.halt();return this},subtractYear:function(a){this.set("date",n.addYears(this.get("date"),-1));a&&a.halt();return this},addMonth:function(a){this.set("date",n.addMonths(this.get("date"),1));a&&a.halt();return this},addYear:function(a){this.set("date",n.addYears(this.get("date"),1));a&&a.halt();return this}},{NAME:"calendar",ATTRS:{selectionMode:{value:"single"},date:{value:new Date,lazyAdd:!1,setter:function(a){a=
this._normalizeDate(a);var b=n.addMonths(a,this._paneNumber-1),c=this.get("minimumDate"),e=this.get("maximumDate");if((!c||n.isGreaterOrEqual(a,c))&&(!e||n.isGreaterOrEqual(e,b)))return a;if(c&&n.isGreater(c,a))return this._normalizeDate(c);if(e&&n.isGreater(b,e))return n.addMonths(this._normalizeDate(e),1-this._paneNumber)}},minimumDate:{value:null,setter:function(a){if(c.Lang.isDate(a)){var b=this.get("date"),e=this._normalizeTime(a);b&&!n.isGreaterOrEqual(b,e)&&this.set("date",a);return e}return null}},
maximumDate:{value:null,setter:function(a){if(c.Lang.isDate(a)){var b=this.get("date");b&&!n.isGreaterOrEqual(a,n.addMonths(b,this._paneNumber-1))&&this.set("date",n.addMonths(this._normalizeDate(a),1-this._paneNumber));return this._normalizeTime(a)}return null}}}})},"3.17.2",{requires:["calendar-base","calendarnavigator"],skinnable:!0})},1100:function(z,A){YUI.add("calendarnavigator",function(c,k){function a(){a.superclass.constructor.apply(this,arguments)}var f=c.ClassNameManager.getClassName,b=
c.Lang.sub,e=c.Node.create,u=f("calendar","header"),p=f("calendarnav","prevmonth"),w=f("calendarnav","nextmonth"),t=f("calendarnav","month-disabled"),n=c.DataType.Date;a.NS="navigator";a.NAME="pluginCalendarNavigator";a.ATTRS={shiftByMonths:{value:1}};a.CALENDARNAV_STRINGS={prev_month_class:p,next_month_class:w};a.PREV_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {prev_month_class}" role="button" aria-label="{prev_month_arialabel}" tabindex="{control_tabindex}" />';a.NEXT_MONTH_CONTROL_TEMPLATE='<a class="yui3-u {next_month_class}" role="button" aria-label="{next_month_arialabel}" tabindex="{control_tabindex}" />';
c.extend(a,c.Plugin.Base,{_eventAttachments:{},_controls:{},initializer:function(){this._controls={};this._eventAttachments={};this.afterHostMethod("renderUI",this._initNavigationControls)},destructor:function(){},_focusNavigation:function(a){a.currentTarget.focus()},_subtractMonths:function(a){if("click"===a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode)){var b=this.get("host"),c=b.get("date");b.set("date",n.addMonths(c,-1*this.get("shiftByMonths")));a.preventDefault()}},_addMonths:function(a){if("click"===
a.type||"keydown"===a.type&&(13===a.keyCode||32===a.keyCode)){var b=this.get("host"),c=b.get("date");b.set("date",n.addMonths(c,this.get("shiftByMonths")));a.preventDefault()}},_updateControlState:function(){var a=this.get("host"),b=a.get("date"),c=n.addMonths(b,a._paneNumber-1),e=a._normalizeDate(a.get("minimumDate")),a=a._normalizeDate(a.get("maximumDate"));n.areEqual(e,b)?(this._eventAttachments.prevMonth&&(this._eventAttachments.prevMonth.detach(),this._eventAttachments.prevMonth=!1),this._controls.prevMonth.hasClass(t)||
this._controls.prevMonth.addClass(t).setAttribute("aria-disabled","true")):(this._eventAttachments.prevMonth||(this._eventAttachments.prevMonth=this._controls.prevMonth.on(["click","keydown"],this._subtractMonths,this)),this._controls.prevMonth.hasClass(t)&&this._controls.prevMonth.removeClass(t).setAttribute("aria-disabled","false"));n.areEqual(a,c)?(this._eventAttachments.nextMonth&&(this._eventAttachments.nextMonth.detach(),this._eventAttachments.nextMonth=!1),this._controls.nextMonth.hasClass(t)||
this._controls.nextMonth.addClass(t).setAttribute("aria-disabled","true")):(this._eventAttachments.nextMonth||(this._eventAttachments.nextMonth=this._controls.nextMonth.on(["click","keydown"],this._addMonths,this)),this._controls.nextMonth.hasClass(t)&&this._controls.nextMonth.removeClass(t).setAttribute("aria-disabled","false"));this._controls.prevMonth.on(["click","keydown"],this._focusNavigation,this);this._controls.nextMonth.on(["click","keydown"],this._focusNavigation,this)},_renderPrevControls:function(){var c=
e(b(a.PREV_MONTH_CONTROL_TEMPLATE,a.CALENDARNAV_STRINGS));c.on("selectstart",this.get("host")._preventSelectionStart);return c},_renderNextControls:function(){var c=e(b(a.NEXT_MONTH_CONTROL_TEMPLATE,a.CALENDARNAV_STRINGS));c.on("selectstart",this.get("host")._preventSelectionStart);return c},_initNavigationControls:function(){var b=this.get("host"),c=b.get("contentBox").one("."+u);a.CALENDARNAV_STRINGS.control_tabindex=b.get("tabIndex");a.CALENDARNAV_STRINGS.prev_month_arialabel="Go to previous month";
a.CALENDARNAV_STRINGS.next_month_arialabel="Go to next month";this._controls.prevMonth=this._renderPrevControls();this._controls.nextMonth=this._renderNextControls();this._updateControlState();b.after(["dateChange","minimumDateChange","maximumDateChange"],this._updateControlState,this);c.prepend(this._controls.prevMonth);c.append(this._controls.nextMonth)}});c.namespace("Plugin").CalendarNavigator=a},"3.17.2",{requires:["plugin","classnamemanager","datatype-date","node"],skinnable:!0})},1416:function(z,
A){YUI.add("squarespace-calendar-block-renderer",function(c){c.namespace("Squarespace");c.Squarespace.CalendarBlockRenderer={};c.Squarespace.CalendarBlockRenderer.renderCalendar=function(k,a,f){if(!c.Lang.isString(a))if(c.Object.hasKey(a,"collectionId"))if(null!==a.collectionId)a=a.collectionId;else{k.empty().setHTML('<div class="sqs-state-message">Please choose a collection for this calendar to display.</div>');return}else a=c.instanceOf(a,c.Squarespace.Models.ContentCollection)?a.get("id"):CONFIG_PANEL.getPreviewFrameCollection().get("id");
a={date:new Date,collectionId:a};c.Lang.isValue(f)&&c.merge(a,{pageCollectionId:f});f=new c.Squarespace.SquarespaceCalendar(a);f.plug(c.Squarespace.SquarespaceCalendarRenderer);f.render(k);return f};c.config.win.Squarespace.onInitialize(c,function(){var k=c.all(".sqs-block.calendar-block[data-block-json]");k.size()&&k.each(function(a){c.Squarespace.CalendarBlockRenderer.renderCalendar(a.one(".sqs-block-content"),c.JSON.parse(a.getAttribute("data-block-json")))},this)})},"1.0",{requires:["squarespace-calendar-core-renderer"]})}});
